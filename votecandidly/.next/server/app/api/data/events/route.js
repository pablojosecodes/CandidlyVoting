"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/data/events/route";
exports.ids = ["app/api/data/events/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdata%2Fevents%2Froute&page=%2Fapi%2Fdata%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdata%2Fevents%2Froute.ts&appDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdata%2Fevents%2Froute&page=%2Fapi%2Fdata%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdata%2Fevents%2Froute.ts&appDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_vicky_Spain_Candidly_votecandidly_app_api_data_events_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/data/events/route.ts */ \"(rsc)/./app/api/data/events/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/data/events/route\",\n        pathname: \"/api/data/events\",\n        filename: \"route\",\n        bundlePath: \"app/api/data/events/route\"\n    },\n    resolvedPagePath: \"/Users/vicky/Spain/Candidly/votecandidly/app/api/data/events/route.ts\",\n    nextConfigOutput,\n    userland: _Users_vicky_Spain_Candidly_votecandidly_app_api_data_events_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/data/events/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkYXRhJTJGZXZlbnRzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkYXRhJTJGZXZlbnRzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZGF0YSUyRmV2ZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnZpY2t5JTJGU3BhaW4lMkZDYW5kaWRseSUyRnZvdGVjYW5kaWRseSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ2aWNreSUyRlNwYWluJTJGQ2FuZGlkbHklMkZ2b3RlY2FuZGlkbHkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDcUI7QUFDbEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uYW1lLz81Y2I3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy92aWNreS9TcGFpbi9DYW5kaWRseS92b3RlY2FuZGlkbHkvYXBwL2FwaS9kYXRhL2V2ZW50cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGF0YS9ldmVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kYXRhL2V2ZW50c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGF0YS9ldmVudHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdmlja3kvU3BhaW4vQ2FuZGlkbHkvdm90ZWNhbmRpZGx5L2FwcC9hcGkvZGF0YS9ldmVudHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZGF0YS9ldmVudHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdata%2Fevents%2Froute&page=%2Fapi%2Fdata%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdata%2Fevents%2Froute.ts&appDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/data/events/route.ts":
/*!**************************************!*\
  !*** ./app/api/data/events/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _utils_db_getCurrentUser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/db/getCurrentUser */ \"(rsc)/./utils/db/getCurrentUser.ts\");\n/* harmony import */ var _utils_getsend_models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/getsend/models */ \"(rsc)/./utils/getsend/models.ts\");\n\n\nasync function POST(request) {\n    const req = await request.json();\n    const { onboarding, builder, funlover, investor, page, pageSize } = req;\n    let user = null;\n    try {\n        user = await (0,_utils_db_getCurrentUser__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    } catch  {}\n    const replacer = (key, value)=>typeof value === \"bigint\" ? value.toString() : value;\n    let events;\n    if (!onboarding && user) {\n        events = await (0,_utils_getsend_models__WEBPACK_IMPORTED_MODULE_1__.getEvents)(user.user_id, undefined, builder, funlover, investor, page, pageSize);\n    } else {\n        // Assuming this is meant for all other cases, including onboarding\n        events = await (0,_utils_getsend_models__WEBPACK_IMPORTED_MODULE_1__.getEvents)(undefined, undefined, builder, funlover, investor, page, pageSize);\n    }\n    // console.log(\"Events:\", events);\n    const response = new Response(JSON.stringify(events, replacer), {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RhdGEvZXZlbnRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN1RDtBQUN3QjtBQUt4RSxlQUFlRSxLQUFLQyxPQUFnQjtJQUN2QyxNQUFNQyxNQUFNLE1BQU1ELFFBQVFFLElBQUk7SUFDOUIsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLElBQUksRUFBRUMsUUFBUSxFQUFFLEdBQUdQO0lBRXBFLElBQUlRLE9BQXFCO0lBQ3pCLElBQUk7UUFDQUEsT0FBTyxNQUFNWixvRUFBY0E7SUFDL0IsRUFBRSxPQUFNLENBQW1DO0lBRTNDLE1BQU1hLFdBQVcsQ0FBQ0MsS0FBVUMsUUFDeEIsT0FBUUEsVUFBVSxXQUFZQSxNQUFNQyxRQUFRLEtBQUtEO0lBRXJELElBQUlFO0lBR0osSUFBSSxDQUFDWCxjQUFjTSxNQUFNO1FBRXJCSyxTQUFTLE1BQU1oQixnRUFBU0EsQ0FBQ1csS0FBS00sT0FBTyxFQUFFQyxXQUFXWixTQUFTQyxVQUFVQyxVQUFVQyxNQUFNQztJQUN6RixPQUFPO1FBQ0gsbUVBQW1FO1FBQ25FTSxTQUFTLE1BQU1oQixnRUFBU0EsQ0FBQ2tCLFdBQVdBLFdBQVdaLFNBQVNDLFVBQVVDLFVBQVVDLE1BQU1DO0lBQ3RGO0lBR0Esa0NBQWtDO0lBQ2xDLE1BQU1TLFdBQVcsSUFBSUMsU0FBU0MsS0FBS0MsU0FBUyxDQUFDTixRQUFRSixXQUFXO1FBQzVEVyxTQUFTO1lBQUUsZ0JBQWdCO1FBQW1CO0lBQ2xEO0lBRUEsT0FBT0o7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL25hbWUvLi9hcHAvYXBpL2RhdGEvZXZlbnRzL3JvdXRlLnRzP2E2ODAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgZ2V0Q3VycmVudFVzZXIgZnJvbSBcIkAvdXRpbHMvZGIvZ2V0Q3VycmVudFVzZXJcIjtcbmltcG9ydCB7IGdldEV2ZW50cywgZ2V0TG9ncywgZ2V0UHJvamVjdHNieVVzZXIgfSBmcm9tIFwiQC91dGlscy9nZXRzZW5kL21vZGVsc1wiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHsgb25ib2FyZGluZywgdXNlcnMgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICAgIGNvbnN0IHJlcSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgb25ib2FyZGluZywgYnVpbGRlciwgZnVubG92ZXIsIGludmVzdG9yLCBwYWdlLCBwYWdlU2l6ZSB9ID0gcmVxO1xuXG4gICAgbGV0IHVzZXI6IHVzZXJzIHwgbnVsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gICAgfSBjYXRjaCB7IC8qIEhhbmRsZSBlcnJvcnMgaWYgbmVjZXNzYXJ5ICovIH1cblxuICAgIGNvbnN0IHJlcGxhY2VyID0gKGtleTogYW55LCB2YWx1ZTogYW55KSA9PlxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50JykgPyB2YWx1ZS50b1N0cmluZygpIDogdmFsdWU7XG5cbiAgICBsZXQgZXZlbnRzO1xuXG5cbiAgICBpZiAoIW9uYm9hcmRpbmcgJiYgdXNlcikge1xuXG4gICAgICAgIGV2ZW50cyA9IGF3YWl0IGdldEV2ZW50cyh1c2VyLnVzZXJfaWQsIHVuZGVmaW5lZCwgYnVpbGRlciwgZnVubG92ZXIsIGludmVzdG9yLCBwYWdlLCBwYWdlU2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBtZWFudCBmb3IgYWxsIG90aGVyIGNhc2VzLCBpbmNsdWRpbmcgb25ib2FyZGluZ1xuICAgICAgICBldmVudHMgPSBhd2FpdCBnZXRFdmVudHModW5kZWZpbmVkLCB1bmRlZmluZWQsIGJ1aWxkZXIsIGZ1bmxvdmVyLCBpbnZlc3RvciwgcGFnZSwgcGFnZVNpemUpO1xuICAgIH1cblxuXG4gICAgLy8gY29uc29sZS5sb2coXCJFdmVudHM6XCIsIGV2ZW50cyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZXZlbnRzLCByZXBsYWNlciksIHtcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbn1cbiJdLCJuYW1lcyI6WyJnZXRDdXJyZW50VXNlciIsImdldEV2ZW50cyIsIlBPU1QiLCJyZXF1ZXN0IiwicmVxIiwianNvbiIsIm9uYm9hcmRpbmciLCJidWlsZGVyIiwiZnVubG92ZXIiLCJpbnZlc3RvciIsInBhZ2UiLCJwYWdlU2l6ZSIsInVzZXIiLCJyZXBsYWNlciIsImtleSIsInZhbHVlIiwidG9TdHJpbmciLCJldmVudHMiLCJ1c2VyX2lkIiwidW5kZWZpbmVkIiwicmVzcG9uc2UiLCJSZXNwb25zZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/data/events/route.ts\n");

/***/ }),

/***/ "(rsc)/./prisma/prismaClient.ts":
/*!********************************!*\
  !*** ./prisma/prismaClient.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.prisma) {\n        global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9wcmlzbWEvcHJpc21hQ2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUU5QyxJQUFJQztBQUVKLElBQUlDLEtBQXlCLEVBQWMsRUFFMUMsTUFBTTtJQUNILElBQUksQ0FBQ0MsT0FBT0YsTUFBTSxFQUFFO1FBQ2hCRSxPQUFPRixNQUFNLEdBQUcsSUFBSUQsd0RBQVlBO0lBQ3BDO0lBQ0FDLFNBQVNFLE9BQU9GLE1BQU07QUFDMUI7QUFFQSxpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25hbWUvLi9wcmlzbWEvcHJpc21hQ2xpZW50LnRzP2IxM2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5sZXQgcHJpc21hOiBQcmlzbWFDbGllbnQ7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xufSBlbHNlIHtcbiAgICBpZiAoIWdsb2JhbC5wcmlzbWEpIHtcbiAgICAgICAgZ2xvYmFsLnByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbiAgICB9XG4gICAgcHJpc21hID0gZ2xvYmFsLnByaXNtYTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJwcm9jZXNzIiwiZ2xvYmFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./prisma/prismaClient.ts\n");

/***/ }),

/***/ "(rsc)/./utils/db/getCurrentUser.ts":
/*!************************************!*\
  !*** ./utils/db/getCurrentUser.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getCurrentUser)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _clerk_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @clerk/nextjs */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/index.js\");\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nasync function getCurrentUser() {\n    console.log(\"GETTING CURRENT USER\");\n    const currentUserData = await (0,_clerk_nextjs__WEBPACK_IMPORTED_MODULE_1__.currentUser)();\n    if (!currentUserData) {\n        return null;\n    }\n    try {\n        console.log(currentUserData.id);\n        let user = await prisma.users.findUnique({\n            where: {\n                user_id: currentUserData.id\n            }\n        });\n        if (!user) {\n            // If user does not exist, create a new user\n            user = await prisma.users.create({\n                data: {\n                    user_id: currentUserData.id,\n                    email: currentUserData.emailAddresses[0].emailAddress,\n                    username: currentUserData.username || \"default\"\n                }\n            });\n        }\n        return user;\n    } catch (error) {\n        console.error(\"Error fetching or creating user:\", error);\n        return null;\n    }\n} // import { GetCommandOutput, PutCommand } from '@aws-sdk/lib-dynamodb';\n // import { GetCommand } from '@aws-sdk/lib-dynamodb';\n // import { currentUser } from '@clerk/nextjs';\n // import { db } from '@/utils/config';\n // export default async function getCurrentUser() {\n //     console.log(\"GETTING CURRNET USER\")\n //     const currentUserData = await currentUser();\n //     if (!currentUserData) {\n //         return null;\n //     }\n //     try {\n //         const { Item: user } = await db.send(\n //             new GetCommand({\n //                 TableName: \"CitrusUserIDs\",\n //                 Key: {\n //                     userId: currentUserData.id\n //                 },\n //             })\n //         if (!user) {\n //             const newUser = await db.send(\n //                 new PutCommand({\n //                     TableName: \"CitrusUserIDs\", // Make sure this matches the table name exactly\n //                     Item: {\n //                         userId: currentUserData.id, // This should match your partition key name\n //                         email: currentUserData.emailAddresses[0].emailAddress,\n //                         createdAt: currentUserData.createdAt,\n //                         plan: 'FREE',\n //                         currentCreditConsumption: 0,\n //                         currentCredits: 0,\n //                         extraCredits: 0,\n //                         firstName: currentUserData.firstName,\n //                         lastName: currentUserData.lastName,\n //                         marketingEmail: currentUserData.emailAddresses[0].emailAddress,\n //                         subscriptionStatus: \"ACTIVE\"\n //                     },\n //                 })\n //             ) as IGetCommandOutput<IUser>;\n //             return newUser;\n //             return newUser\n //             // throw new Error(`User with ID ${userId} not found.`);\n //         }\n //         return user;\n //     } catch (error) {\n //         console.error(\"Error fetching user:\", error);\n //         throw error; // Re-throw the error to be handled by the caller\n //         // return false;\n //     }\n //     // const { Item: user } = (await db.send(\n //     //     new GetCommand({\n //     //         TableName: \"CitrusUsersID\",\n //     //         Key: {\n //     //             pk: `${currentUserData?.id}`,\n //     //             sk: `${currentUserData?.id}`,\n //     //         },\n //     //     })\n //     // ))\n //     // return user;\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9kYi9nZXRDdXJyZW50VXNlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFEO0FBQ1Q7QUFFNUMsTUFBTUUsU0FBUyxJQUFJRix3REFBWUE7QUFFaEIsZUFBZUc7SUFDMUJDLFFBQVFDLEdBQUcsQ0FBQztJQUNaLE1BQU1DLGtCQUFrQixNQUFNTCwwREFBV0E7SUFFekMsSUFBSSxDQUFDSyxpQkFBaUI7UUFDbEIsT0FBTztJQUNYO0lBRUEsSUFBSTtRQUNBRixRQUFRQyxHQUFHLENBQUNDLGdCQUFnQkMsRUFBRTtRQUM5QixJQUFJQyxPQUFxQixNQUFNTixPQUFPTyxLQUFLLENBQUNDLFVBQVUsQ0FBQztZQUNuREMsT0FBTztnQkFBRUMsU0FBU04sZ0JBQWdCQyxFQUFFO1lBQUM7UUFDekM7UUFFQSxJQUFJLENBQUNDLE1BQU07WUFDUCw0Q0FBNEM7WUFDNUNBLE9BQU8sTUFBTU4sT0FBT08sS0FBSyxDQUFDSSxNQUFNLENBQUM7Z0JBQzdCQyxNQUFNO29CQUNGRixTQUFTTixnQkFBZ0JDLEVBQUU7b0JBQzNCUSxPQUFPVCxnQkFBZ0JVLGNBQWMsQ0FBQyxFQUFFLENBQUNDLFlBQVk7b0JBQ3JEQyxVQUFVWixnQkFBZ0JZLFFBQVEsSUFBSTtnQkFHMUM7WUFDSjtRQUNKO1FBR0EsT0FBT1Y7SUFFWCxFQUFFLE9BQU9XLE9BQU87UUFDWmYsUUFBUWUsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsT0FBTztJQUNYO0FBQ0osRUFLQSx3RUFBd0U7Q0FDeEUsc0RBQXNEO0NBQ3RELCtDQUErQztDQUMvQyx1Q0FBdUM7Q0FPdkMsbURBQW1EO0NBQ25ELDBDQUEwQztDQUMxQyxtREFBbUQ7Q0FFbkQsOEJBQThCO0NBQzlCLHVCQUF1QjtDQUN2QixRQUFRO0NBRVIsWUFBWTtDQUNaLGdEQUFnRDtDQUNoRCwrQkFBK0I7Q0FDL0IsOENBQThDO0NBQzlDLHlCQUF5QjtDQUN6QixpREFBaUQ7Q0FDakQscUJBQXFCO0NBQ3JCLGlCQUFpQjtDQUlqQix1QkFBdUI7Q0FDdkIsNkNBQTZDO0NBQzdDLG1DQUFtQztDQUNuQyxtR0FBbUc7Q0FDbkcsOEJBQThCO0NBQzlCLG1HQUFtRztDQUNuRyxpRkFBaUY7Q0FDakYsZ0VBQWdFO0NBQ2hFLHdDQUF3QztDQUN4Qyx1REFBdUQ7Q0FDdkQsNkNBQTZDO0NBQzdDLDJDQUEyQztDQUMzQyxnRUFBZ0U7Q0FDaEUsOERBQThEO0NBQzlELDBGQUEwRjtDQUMxRix1REFBdUQ7Q0FDdkQseUJBQXlCO0NBQ3pCLHFCQUFxQjtDQUVyQiw2Q0FBNkM7Q0FDN0MsOEJBQThCO0NBRTlCLDZCQUE2QjtDQUM3Qix1RUFBdUU7Q0FDdkUsWUFBWTtDQUNaLHVCQUF1QjtDQUN2Qix3QkFBd0I7Q0FDeEIsd0RBQXdEO0NBRXhELHlFQUF5RTtDQUN6RSwyQkFBMkI7Q0FDM0IsUUFBUTtDQUlSLGdEQUFnRDtDQUNoRCw4QkFBOEI7Q0FDOUIsNkNBQTZDO0NBQzdDLHdCQUF3QjtDQUN4QixtREFBbUQ7Q0FDbkQsbURBQW1EO0NBQ25ELG9CQUFvQjtDQUNwQixnQkFBZ0I7Q0FDaEIsWUFBWTtDQUVaLHNCQUFzQjtDQUN0QixJQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFtZS8uL3V0aWxzL2RiL2dldEN1cnJlbnRVc2VyLnRzP2IzMjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50LCB1c2VycyB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcbmltcG9ydCB7IGN1cnJlbnRVc2VyIH0gZnJvbSAnQGNsZXJrL25leHRqcyc7XG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKSB7XG4gICAgY29uc29sZS5sb2coXCJHRVRUSU5HIENVUlJFTlQgVVNFUlwiKVxuICAgIGNvbnN0IGN1cnJlbnRVc2VyRGF0YSA9IGF3YWl0IGN1cnJlbnRVc2VyKCk7XG5cbiAgICBpZiAoIWN1cnJlbnRVc2VyRGF0YSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50VXNlckRhdGEuaWQpXG4gICAgICAgIGxldCB1c2VyOiB1c2VycyB8IG51bGwgPSBhd2FpdCBwcmlzbWEudXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICB3aGVyZTogeyB1c2VyX2lkOiBjdXJyZW50VXNlckRhdGEuaWQgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHVzZXIgZG9lcyBub3QgZXhpc3QsIGNyZWF0ZSBhIG5ldyB1c2VyXG4gICAgICAgICAgICB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXJzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiBjdXJyZW50VXNlckRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBjdXJyZW50VXNlckRhdGEuZW1haWxBZGRyZXNzZXNbMF0uZW1haWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogY3VycmVudFVzZXJEYXRhLnVzZXJuYW1lIHx8IFwiZGVmYXVsdFwiLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBvdGhlciBmaWVsZHMgYXMgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiB1c2VyO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG9yIGNyZWF0aW5nIHVzZXI6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG59XG5cblxuXG5cbi8vIGltcG9ydCB7IEdldENvbW1hbmRPdXRwdXQsIFB1dENvbW1hbmQgfSBmcm9tICdAYXdzLXNkay9saWItZHluYW1vZGInO1xuLy8gaW1wb3J0IHsgR2V0Q29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2xpYi1keW5hbW9kYic7XG4vLyBpbXBvcnQgeyBjdXJyZW50VXNlciB9IGZyb20gJ0BjbGVyay9uZXh0anMnO1xuLy8gaW1wb3J0IHsgZGIgfSBmcm9tICdAL3V0aWxzL2NvbmZpZyc7XG5cblxuXG5cblxuXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcbi8vICAgICBjb25zb2xlLmxvZyhcIkdFVFRJTkcgQ1VSUk5FVCBVU0VSXCIpXG4vLyAgICAgY29uc3QgY3VycmVudFVzZXJEYXRhID0gYXdhaXQgY3VycmVudFVzZXIoKTtcblxuLy8gICAgIGlmICghY3VycmVudFVzZXJEYXRhKSB7XG4vLyAgICAgICAgIHJldHVybiBudWxsO1xuLy8gICAgIH1cblxuLy8gICAgIHRyeSB7XG4vLyAgICAgICAgIGNvbnN0IHsgSXRlbTogdXNlciB9ID0gYXdhaXQgZGIuc2VuZChcbi8vICAgICAgICAgICAgIG5ldyBHZXRDb21tYW5kKHtcbi8vICAgICAgICAgICAgICAgICBUYWJsZU5hbWU6IFwiQ2l0cnVzVXNlcklEc1wiLFxuLy8gICAgICAgICAgICAgICAgIEtleToge1xuLy8gICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyRGF0YS5pZFxuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICB9KVxuXG5cblxuLy8gICAgICAgICBpZiAoIXVzZXIpIHtcbi8vICAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBkYi5zZW5kKFxuLy8gICAgICAgICAgICAgICAgIG5ldyBQdXRDb21tYW5kKHtcbi8vICAgICAgICAgICAgICAgICAgICAgVGFibGVOYW1lOiBcIkNpdHJ1c1VzZXJJRHNcIiwgLy8gTWFrZSBzdXJlIHRoaXMgbWF0Y2hlcyB0aGUgdGFibGUgbmFtZSBleGFjdGx5XG4vLyAgICAgICAgICAgICAgICAgICAgIEl0ZW06IHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogY3VycmVudFVzZXJEYXRhLmlkLCAvLyBUaGlzIHNob3VsZCBtYXRjaCB5b3VyIHBhcnRpdGlvbiBrZXkgbmFtZVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGN1cnJlbnRVc2VyRGF0YS5lbWFpbEFkZHJlc3Nlc1swXS5lbWFpbEFkZHJlc3MsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGN1cnJlbnRVc2VyRGF0YS5jcmVhdGVkQXQsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuOiAnRlJFRScsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q3JlZGl0Q29uc3VtcHRpb246IDAsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q3JlZGl0czogMCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQ3JlZGl0czogMCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogY3VycmVudFVzZXJEYXRhLmZpcnN0TmFtZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBjdXJyZW50VXNlckRhdGEubGFzdE5hbWUsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRpbmdFbWFpbDogY3VycmVudFVzZXJEYXRhLmVtYWlsQWRkcmVzc2VzWzBdLmVtYWlsQWRkcmVzcyxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvblN0YXR1czogXCJBQ1RJVkVcIlxuLy8gICAgICAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgICAgIH0pXG5cbi8vICAgICAgICAgICAgICkgYXMgSUdldENvbW1hbmRPdXRwdXQ8SVVzZXI+O1xuLy8gICAgICAgICAgICAgcmV0dXJuIG5ld1VzZXI7XG5cbi8vICAgICAgICAgICAgIHJldHVybiBuZXdVc2VyXG4vLyAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoYFVzZXIgd2l0aCBJRCAke3VzZXJJZH0gbm90IGZvdW5kLmApO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIHJldHVybiB1c2VyO1xuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB1c2VyOlwiLCBlcnJvcik7XG5cbi8vICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciB0byBiZSBoYW5kbGVkIGJ5IHRoZSBjYWxsZXJcbi8vICAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xuLy8gICAgIH1cblxuXG5cbi8vICAgICAvLyBjb25zdCB7IEl0ZW06IHVzZXIgfSA9IChhd2FpdCBkYi5zZW5kKFxuLy8gICAgIC8vICAgICBuZXcgR2V0Q29tbWFuZCh7XG4vLyAgICAgLy8gICAgICAgICBUYWJsZU5hbWU6IFwiQ2l0cnVzVXNlcnNJRFwiLFxuLy8gICAgIC8vICAgICAgICAgS2V5OiB7XG4vLyAgICAgLy8gICAgICAgICAgICAgcGs6IGAke2N1cnJlbnRVc2VyRGF0YT8uaWR9YCxcbi8vICAgICAvLyAgICAgICAgICAgICBzazogYCR7Y3VycmVudFVzZXJEYXRhPy5pZH1gLFxuLy8gICAgIC8vICAgICAgICAgfSxcbi8vICAgICAvLyAgICAgfSlcbi8vICAgICAvLyApKVxuXG4vLyAgICAgLy8gcmV0dXJuIHVzZXI7XG4vLyB9Il0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImN1cnJlbnRVc2VyIiwicHJpc21hIiwiZ2V0Q3VycmVudFVzZXIiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFVzZXJEYXRhIiwiaWQiLCJ1c2VyIiwidXNlcnMiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJ1c2VyX2lkIiwiY3JlYXRlIiwiZGF0YSIsImVtYWlsIiwiZW1haWxBZGRyZXNzZXMiLCJlbWFpbEFkZHJlc3MiLCJ1c2VybmFtZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/db/getCurrentUser.ts\n");

/***/ }),

/***/ "(rsc)/./utils/getsend/models.ts":
/*!*********************************!*\
  !*** ./utils/getsend/models.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   archiveEvent: () => (/* binding */ archiveEvent),\n/* harmony export */   eventToStructure: () => (/* binding */ eventToStructure),\n/* harmony export */   getAgenda: () => (/* binding */ getAgenda),\n/* harmony export */   getDeploymentsByProjectIds: () => (/* binding */ getDeploymentsByProjectIds),\n/* harmony export */   getEvents: () => (/* binding */ getEvents),\n/* harmony export */   getLogs: () => (/* binding */ getLogs),\n/* harmony export */   getProjectsbyUser: () => (/* binding */ getProjectsbyUser),\n/* harmony export */   magicSearchEvents: () => (/* binding */ magicSearchEvents),\n/* harmony export */   searchEvents: () => (/* binding */ searchEvents),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var _utils_openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/openai */ \"(rsc)/./utils/openai.ts\");\n/* harmony import */ var _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/prisma/prismaClient */ \"(rsc)/./prisma/prismaClient.ts\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_2__);\n// import { OpenAIApi, Configuration } from \"openai\";\n\n// import { OpenAIApi, ChatCompletionCreateRequest, CreateChatCompletionResponse } from 'openai';\n\n\nconst getProjectsbyUser = async (userID)=>{\n    console.log(\"RET\");\n    // const videos = await prisma.projects.findMany({ \n    //     where: {\n    //         user_id: userID,\n    //     },\n    //     orderBy: {\n    //         project_name: 'asc', // or any other field you want to sort by\n    //     },\n    // });\n    // return videos;\n    return null;\n};\nconst getLogs = async (deploymentId)=>{\n    // console.log(\"GETING LOGS \")\n    // console.log(deploymentId)\n    // const videos = await prisma.logs.findMany({\n    //     where: {\n    //         deployment_id: deploymentId,\n    //     },\n    //     orderBy: {\n    //         log_id: 'asc', // or any other field you want to sort by\n    //     },\n    // });\n    // return videos;\n    return null;\n};\nasync function updateUser(userId, updates) {\n    try {\n        // Check for the validity of the userId\n        if (!userId) {\n            throw new Error(\"Invalid user ID\");\n        }\n        // Optionally, validate individual fields here. For example:\n        // if (updates.email && !isValidEmail(updates.email)) {\n        //   throw new Error('Invalid email address');\n        // }\n        // Perform the update\n        const updatedUser = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].users.update({\n            where: {\n                user_id: userId\n            },\n            data: updates\n        });\n        console.log(\"User updated successfully:\", updatedUser);\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n    }\n}\nconst archiveEvent = async (user_id, event_id, action)=>{\n    try {\n        // Create a new record in 'user_event_interactions' with interaction_type 'archived'\n        const archivedEvent = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user_event_interactions.create({\n            data: {\n                user_id: user_id,\n                internalid: event_id,\n                interaction_type: action\n            }\n        });\n        console.log(\"Event archived:\", archivedEvent);\n    } catch (error) {\n        console.error(\"Error archiving event:\", error);\n        // Handle or throw error appropriately\n        throw error;\n    }\n};\n// interface EventStructure {\n//     start?: string;\n//     end?: string;\n//     unknown?: boolean;\n//     search?: string;\n// }\nasync function eventToStructure(event) {\n    var today = new Date();\n    var dd = String(today.getDate()).padStart(2, \"0\");\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n    var yyyy = today.getFullYear();\n    const currentDate = mm + \"/\" + dd + \"/\" + yyyy;\n    console.log(currentDate);\n    console.log(\"YYYYYYY\");\n    // Create the system and user messages for date and time extraction\n    let systemMessage = {\n        role: \"system\",\n        content: \"You are a helpful assistant designed to output JSON.\"\n    };\n    let userMessage = {\n        role: \"user\",\n        content: `Today's date is ${currentDate}. What are the start and end timestamps for an event described as '${event}' in ISO 8601 format? Keys should be 'start' and 'end' unless you can't decipher the times. In which case return with key 'unknown' and value 'true'`\n    };\n    console.log(systemMessage);\n    console.log(userMessage);\n    // Call the API for date and time extraction\n    let response = await _utils_openai__WEBPACK_IMPORTED_MODULE_0__.openai.chat.completions.create({\n        model: \"gpt-4-turbo-preview\",\n        messages: [\n            systemMessage,\n            userMessage\n        ],\n        response_format: {\n            type: \"json_object\"\n        }\n    });\n    console.log(response);\n    let timestamps = JSON.parse(response.choices[0].message.content);\n    console.log(timestamps);\n    let values = {};\n    console.log(typeof timestamps);\n    if (\"unknown\" in timestamps) {\n        values[\"timing\"] = false;\n    } else {\n        values[\"timing\"] = [\n            timestamps[\"start\"],\n            timestamps[\"end\"]\n        ];\n    }\n    // Create the system and user messages for search term extraction\n    systemMessage = {\n        role: \"system\",\n        content: \"You are a helpful assistant. When given a description of an event, your job is to extract the main topic of the event as a search term, disregarding any date or time-related details.\"\n    };\n    userMessage = {\n        role: \"user\",\n        content: `Given the following query: '${event}', what kind of event is the user looking for disregarding its date? Respond with JSON object with key 'search'.`\n    };\n    // Call the API for search term extraction\n    response = await _utils_openai__WEBPACK_IMPORTED_MODULE_0__.openai.chat.completions.create({\n        model: \"gpt-4-turbo-preview\",\n        messages: [\n            systemMessage,\n            userMessage\n        ],\n        response_format: {\n            type: \"json_object\"\n        }\n    });\n    let searchTerm = JSON.parse(response.choices[0].message.content);\n    values[\"search\"] = searchTerm[\"search\"];\n    // let searchTerm: EventStructure = response.data.choices[0].message.content as EventStructure;\n    // Combine both responses\n    return values;\n}\nasync function generateEmbedding(raw) {\n    // OpenAI recommends replacing newlines with spaces for best results\n    const input = raw.replace(/\\n/g, \" \");\n    const embeddingData = await _utils_openai__WEBPACK_IMPORTED_MODULE_0__.openai.embeddings.create({\n        model: \"text-embedding-3-large\",\n        input\n    });\n    const [{ embedding }] = embeddingData.data;\n    return embedding;\n}\nconst searchEvents = async (query, user_id, useOnboardingTable = false, builder, funlover, investor, page = 1, pageSize = 10)=>{\n    const similarityThreshold = .8;\n    const skip = (page - 1) * pageSize;\n    if (useOnboardingTable) {\n        const videos = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onboarding.findMany({\n            skip: skip,\n            take: pageSize,\n            orderBy: {\n                location: \"asc\"\n            }\n        });\n        return videos;\n    } else {\n        let eventFilter = {};\n        if (user_id) {\n            // Fetch the user's embedding\n            console.log(\"FECHING\");\n            console.log(query);\n            console.log(user_id);\n            const goAhead = true;\n            if (goAhead) {\n                const userEmbedding = await generateEmbedding(query);\n                const vectorQuery = `[${userEmbedding.join(\",\")}]`;\n                const nonArchivedEventsWithSimilarity = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].$queryRaw`\n    SELECT\n        e.internalid,\n        e.title,\n\n        e.directionslink,\n\n        e.displaytitle,\n        e.displaydescription,\n        e.displaytitle,\n        e.location,\n        e.dropdowns,\n        e.eventlink,\n        e.timestampstart,\n        e.timestampend,\n        e.eventendtime,\n        e.eventstarttime,\n        e.lastupdated,\n        e.platform,\n\n\n        1 - (e.embedding <=> ${vectorQuery}::vector) as similarity\n    FROM events e\n    LEFT JOIN user_event_interactions uei ON e.internalid = uei.internalid AND uei.user_id = ${user_id} AND uei.interaction_type = 'archived'\n    WHERE (uei.internalid IS NULL OR uei.user_id IS NULL) \n      AND 1 - (e.embedding <=> ${vectorQuery}::vector) > .4\n    ORDER BY similarity DESC\n    LIMIT 8;\n`;\n                console.log(nonArchivedEventsWithSimilarity);\n                return nonArchivedEventsWithSimilarity;\n            } else {\n                console.log(\"NOT EMB Search\");\n                const archivedEvents = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user_event_interactions.findMany({\n                    where: {\n                        user_id: user_id,\n                        interaction_type: \"archived\"\n                    },\n                    select: {\n                        internalid: true\n                    }\n                });\n                let archivedEventIds = archivedEvents.map((ae)=>ae.internalid);\n                eventFilter[\"NOT\"] = [\n                    {\n                        internalid: {\n                            in: archivedEventIds\n                        }\n                    }\n                ];\n            // Handle case where user does not have an embedding\n            // ... existing archived events code ...\n            }\n        }\n        // if (user_id) {\n        //     const archivedEvents = await prisma.user_event_interactions.findMany({\n        //         where: {\n        //             user_id: user_id,\n        //             interaction_type: 'archived',\n        //         },\n        //         select: {\n        //             internalid: true,\n        //         }\n        //     });\n        //     let archivedEventIds = archivedEvents.map(ae => ae.internalid);\n        //     eventFilter['NOT'] = [{ internalid: { in: archivedEventIds } }];\n        // }\n        if (investor === true) eventFilter[\"investor\"] = true;\n        if (builder === true) eventFilter[\"builder\"] = true;\n        if (funlover === true) eventFilter[\"fun\"] = true;\n        const events = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.findMany({\n            where: eventFilter,\n            skip: skip,\n            take: pageSize,\n            orderBy: {\n                lastupdated: \"desc\"\n            }\n        });\n        // const events = await prisma.events.findMany({\n        //     where: eventFilter,\n        //     skip: skip,\n        //     take: pageSize,\n        //     orderBy: {\n        //         lastupdated: 'desc',\n        //     },\n        // });\n        return events;\n    }\n};\nconst magicSearchEvents = async (query, initial, end, user_id, useOnboardingTable = false, builder, funlover, investor, page = 1, pageSize = 10)=>{\n    console.log(\"magic search event\");\n    const similarityThreshold = .8;\n    const skip = (page - 1) * pageSize;\n    if (useOnboardingTable) {\n        const videos = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onboarding.findMany({\n            skip: skip,\n            take: pageSize,\n            orderBy: {\n                location: \"asc\"\n            }\n        });\n        return videos;\n    } else {\n        let eventFilter = {};\n        if (user_id) {\n            // Fetch the user's embedding\n            console.log(\"FECHING\");\n            console.log(query);\n            console.log(initial);\n            console.log(user_id);\n            const goAhead = true;\n            if (goAhead) {\n                const userEmbedding = await generateEmbedding(query);\n                const vectorQuery = `[${userEmbedding.join(\",\")}]`;\n                const nonArchivedEventsWithSimilarity = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].$queryRaw`\n    SELECT\n        e.internalid,\n        e.title,\n\n        e.directionslink,\n\n        e.displaytitle,\n        e.displaydescription,\n        e.displaytitle,\n        e.location,\n        e.dropdowns,\n        e.eventlink,\n        e.timestampstart,\n        e.timestampend,\n        e.eventendtime,\n        e.eventstarttime,\n        e.lastupdated,\n        e.platform,\n\n\n        1 - (e.embedding <=> ${vectorQuery}::vector) as similarity\n    FROM events e\n    LEFT JOIN user_event_interactions uei ON e.internalid = uei.internalid AND uei.user_id = ${user_id} AND uei.interaction_type = 'archived'\n    WHERE (uei.internalid IS NULL OR uei.user_id IS NULL) \n      AND 1 - (e.embedding <=> ${vectorQuery}::vector) > .4\n      AND (${initial} IS NULL OR e.timestampstart >= ${initial}::timestamp)\n      AND (${end} IS NULL OR e.timestampend <= ${end}::timestamp)\n    ORDER BY similarity DESC\n    LIMIT 8;\n`;\n                console.log(nonArchivedEventsWithSimilarity);\n                return nonArchivedEventsWithSimilarity;\n            } else {\n                console.log(\"NOT EMB Search\");\n                const archivedEvents = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user_event_interactions.findMany({\n                    where: {\n                        user_id: user_id,\n                        interaction_type: \"archived\"\n                    },\n                    select: {\n                        internalid: true\n                    }\n                });\n                let archivedEventIds = archivedEvents.map((ae)=>ae.internalid);\n                eventFilter[\"NOT\"] = [\n                    {\n                        internalid: {\n                            in: archivedEventIds\n                        }\n                    }\n                ];\n            // Handle case where user does not have an embedding\n            // ... existing archived events code ...\n            }\n        }\n        // if (user_id) {\n        //     const archivedEvents = await prisma.user_event_interactions.findMany({\n        //         where: {\n        //             user_id: user_id,\n        //             interaction_type: 'archived',\n        //         },\n        //         select: {\n        //             internalid: true,\n        //         }\n        //     });\n        //     let archivedEventIds = archivedEvents.map(ae => ae.internalid);\n        //     eventFilter['NOT'] = [{ internalid: { in: archivedEventIds } }];\n        // }\n        if (investor === true) eventFilter[\"investor\"] = true;\n        if (builder === true) eventFilter[\"builder\"] = true;\n        if (funlover === true) eventFilter[\"fun\"] = true;\n        const events = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.findMany({\n            where: eventFilter,\n            skip: skip,\n            take: pageSize,\n            orderBy: {\n                lastupdated: \"desc\"\n            }\n        });\n        return events;\n    }\n};\nconst getAgenda = async (user_id, page = 1, pageSize = 10)=>{\n    const skip = (page - 1) * pageSize;\n    let eventFilter = {};\n    // Fetch non-archived event interactions for the user\n    const nonArchivedEvents = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user_event_interactions.findMany({\n        where: {\n            user_id: user_id,\n            interaction_type: {\n                not: \"archived\"\n            }\n        },\n        select: {\n            internalid: true,\n            interaction_type: true\n        }\n    });\n    // Explicitly declare the type of interactionTypeMap\n    const interactionTypeMap = {};\n    nonArchivedEvents.forEach((eventInteraction)=>{\n        interactionTypeMap[eventInteraction.internalid] = eventInteraction.interaction_type;\n    });\n    // Fetch events based on the non-archived event IDs\n    let events = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.findMany({\n        where: {\n            ...eventFilter,\n            internalid: {\n                in: Object.keys(interactionTypeMap)\n            }\n        },\n        skip,\n        take: pageSize,\n        orderBy: {\n            lastupdated: \"desc\"\n        }\n    });\n    // Add interaction_type to each event\n    const eventsWithInteractionType = events.map((event)=>({\n            ...event,\n            interaction_type: interactionTypeMap[event.internalid] || undefined\n        }));\n    return eventsWithInteractionType;\n};\n// export const getAgenda = async (user_id: string, page = 1, pageSize = 10) => {\n//     const skip = (page - 1) * pageSize;\n//     let eventFilter: EventFilter = {};\n//     if (user_id) {\n//         const nonArchivedEvents = await prisma.user_event_interactions.findMany({\n//             where: {\n//                 user_id: user_id,\n//                 interaction_type: {\n//                     not: 'archived',\n//                 },\n//             },\n//             select: {\n//                 internalid: true,\n//             }\n//         });\n//         let nonArchivedEventIds = nonArchivedEvents.map(event => event.internalid);\n//         eventFilter['internalid'] = { in: nonArchivedEventIds };\n//     }\n//     const events = await prisma.events.findMany({\n//         where: eventFilter,\n//         skip: skip,\n//         take: pageSize,\n//         orderBy: {\n//             lastupdated: 'desc',\n//         },\n//     });\n//     console.log(events)\n//     return events;\n// };\nconst getEvents = async (user_id, useOnboardingTable = false, builder, funlover, investor, page = 1, pageSize = 10, embedding)=>{\n    const similarityThreshold = .8;\n    const skip = (page - 1) * pageSize;\n    if (useOnboardingTable) {\n        const videos = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].onboarding.findMany({\n            skip: skip,\n            take: pageSize,\n            orderBy: {\n                location: \"asc\"\n            }\n        });\n        return videos;\n    } else {\n        let eventFilter = {};\n        // let eventFilter = {};\n        if (user_id) {\n            console.log(\"FETCHING USER INTERACTIONS\");\n            const userInteractions = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].user_event_interactions.findMany({\n                where: {\n                    user_id\n                },\n                select: {\n                    internalid: true\n                }\n            });\n            let interactedEventIds = userInteractions.map((interaction)=>interaction.internalid);\n            if (interactedEventIds.length) {\n                eventFilter[\"NOT\"] = [\n                    {\n                        internalid: {\n                            in: interactedEventIds\n                        }\n                    }\n                ];\n            }\n        }\n        if (investor === true) eventFilter[\"investor\"] = true;\n        if (builder === true) eventFilter[\"builder\"] = true;\n        if (funlover === true) eventFilter[\"fun\"] = true;\n        if (embedding) {\n            const vectorQuery = `[${embedding.join(\",\")}]`;\n            const events = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].$queryRaw`\n            SELECT\n                e.internalid,\n                e.title,\n                e.directionslink,\n                e.displaytitle,\n                e.displaydescription,\n                e.location,\n                e.dropdowns,\n                e.eventlink,\n                e.timestampstart,\n                e.timestampend,\n                e.eventendtime,\n                e.eventstarttime,\n                e.lastupdated,\n                e.platform,\n                1 - (e.embedding <=> ${vectorQuery}::vector) as similarity\n            FROM events e\n            LEFT JOIN user_event_interactions uei ON e.internalid = uei.internalid AND uei.user_id = ${user_id} AND uei.interaction_type = 'archived'\n            WHERE (uei.internalid IS NULL OR uei.user_id IS NULL)\n              AND ${_prisma_client__WEBPACK_IMPORTED_MODULE_2__.Prisma.sql`1 - (e.embedding <=> ${vectorQuery}::vector) > .4`}\n              ${eventFilter[\"NOT\"] ? `AND e.internalid NOT IN (${_prisma_client__WEBPACK_IMPORTED_MODULE_2__.Prisma.join(eventFilter[\"NOT\"][0].internalid.in)})` : \"\"}\n              ${eventFilter[\"investor\"] ? \"AND e.investor = true\" : \"\"}\n              ${eventFilter[\"builder\"] ? \"AND e.builder = true\" : \"\"}\n              ${eventFilter[\"fun\"] ? \"AND e.fun = true\" : \"\"}    \n            ORDER BY similarity DESC\n            LIMIT ${pageSize}\n            OFFSET ${skip};\n        `;\n            return events;\n        } else {\n            const events = await _prisma_prismaClient__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.findMany({\n                where: eventFilter,\n                skip: skip,\n                take: pageSize,\n                orderBy: {\n                    lastupdated: \"desc\"\n                }\n            });\n            return events;\n        }\n    }\n};\n// export const getEvents = async (user_id?: string, useOnboardingTable = false, builder?: boolean, funlover?: boolean, investor?: boolean) => {\n//     console.log(\"GETTING LOGS\");\n//     if (useOnboardingTable) {\n//         console.log(\"GETTING LOGS FROM ONBOARDING\");\n//         const videos = await prisma.onboarding.findMany({\n//             take: 10,\n//             orderBy: {\n//                 location: 'asc',\n//             },\n//         });\n//         return videos;\n//     } else {\n//         let eventFilter: EventFilter = {};\n//         if(user_id) { \n//             const archivedEvents = await prisma.user_event_interactions.findMany({\n//                 where: {\n//                     user_id: user_id,\n//                     interaction_type: 'archived',\n//                 },\n//                 select: {\n//                     internalid: true,\n//                 }\n//             });\n//             let archivedEventIds = archivedEvents.map(ae => ae.internalid);\n//             eventFilter['NOT'] = [{ internalid: { in: archivedEventIds } }];\n//         }\n//         if (investor === true) eventFilter['investor'] = true;\n//         if (builder === true) eventFilter['builder'] = true;\n//         if (funlover === true) eventFilter['fun'] = true;\n//         const events = await prisma.events.findMany({\n//             where: eventFilter,\n//             take: 10,\n//             orderBy: {\n//                 lastupdated: 'asc',\n//             },\n//         });\n//         return events;\n//     }\n// };\n//   export const getEvents = async (user_id?: string, useOnboardingTable = false, builder?: boolean, funlover?: boolean, investor?: boolean) => {\n//     console.log(\"GETTING LOGS\");\n//     if (useOnboardingTable) {\n//         console.log(\"GETTING LOGS FROM ONBOARDING\");\n//         const videos = await prisma.onboarding.findMany({\n//             take: 10,\n//             orderBy: {\n//                 location: 'asc', // Or any other preference\n//             },\n//         });\n//         return videos;\n//     } else {\n//         if(user_id) { // Only apply filtering if user_id is provided\n//             // Query to get list of archived event IDs for the user\n//             const archivedEvents = await prisma.user_event_interactions.findMany({\n//                 where: {\n//                     user_id: user_id,\n//                     interaction_type: 'archived',\n//                 },\n//                 select: {\n//                     internalid: true, // Selecting only the internal IDs of the archived events\n//                 }\n//             });\n//             let archivedEventIds = archivedEvents.map(ae => ae.internalid);\n//             // Now, query the events excluding the ones archived by the user\n//             const events = await prisma.events.findMany({\n//                 where: {\n//                     NOT: [\n//                         {\n//                             internalid: { in: archivedEventIds },\n//                         },\n//                     ],\n//                 },\n//                 take: 10,\n//                 orderBy: {\n//                     lastupdated: 'asc',\n//                 },\n//             });\n//             return events;\n//         } else { // If user_id is not provided, fetch all events without filtering\n//             return await prisma.events.findMany({\n//                 take: 10,\n//                 orderBy: {\n//                     lastupdated: 'asc',\n//                 },\n//             });\n//         }\n//     }\n// };\n// export const getEvents = async (useOnboardingTable = false, user_id: string) => {\n//     console.log(\"GETTING LOGS\");\n//     if (useOnboardingTable) {\n//         console.log(\"GETING LOGS \")\n//         const videos = await prisma.onboarding.findMany({\n//             take: 10,\n//             orderBy: {\n//                 location: 'asc', // or any other field you want to sort by\n//             },\n//         });\n//         return videos;\n//     }\n//     else {\n//         const videos = await prisma.events.findMany({\n//             take: 10,\n//             orderBy: {\n//                 lastupdated: 'asc', // or any other field you want to sort by\n//             },\n//         });\n//         return videos;\n//     }\n// };\nconst getDeploymentsByProjectIds = async (projectIds)=>{\n    console.log(\"GETTING DEPLOYMENTS FOR PROJECT IDs\");\n    // console.log(projectIds);\n    // const deployments = await prisma.deployments.findMany({\n    //     where: {\n    //         project_id: {\n    //             in: projectIds,\n    //         },\n    //     },\n    //     orderBy: {\n    //         deployment_id: 'asc', // or any other field you want to sort by\n    // //     },\n    // // });\n    // return deployments;\n    return null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtBQUM3Qix5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLDRCQUE0QjtBQUM1Qiw2QkFBNkI7QUFDN0IsMENBQTBDO0FBQzFDLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFFbEIsNkJBQTZCO0FBQzdCLHFGQUFxRjtBQUNyRixvREFBb0Q7QUFDcEQsNEJBQTRCO0FBQzVCLDZCQUE2QjtBQUM3QiwwQ0FBMEM7QUFDMUMscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQixZQUFZO0FBQ1osUUFBUTtBQUNSLEtBQUs7QUFLTCxvRkFBb0Y7QUFDcEYsbUNBQW1DO0FBRW5DLGdDQUFnQztBQUNoQyxzQ0FBc0M7QUFDdEMsNERBQTREO0FBQzVELHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekIsNkVBQTZFO0FBQzdFLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2QseUJBQXlCO0FBQ3pCLFFBQVE7QUFDUixhQUFhO0FBQ2Isd0RBQXdEO0FBQ3hELHdCQUF3QjtBQUN4Qix5QkFBeUI7QUFDekIsZ0ZBQWdGO0FBQ2hGLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2QseUJBQXlCO0FBQ3pCLFFBQVE7QUFJUixLQUFLO0FBSUUsTUFBTXFCLDZCQUE2QixPQUFPQztJQUM3Q2hILFFBQVFDLEdBQUcsQ0FBQztJQUNaLDJCQUEyQjtJQUUzQiwwREFBMEQ7SUFDMUQsZUFBZTtJQUNmLHdCQUF3QjtJQUN4Qiw4QkFBOEI7SUFDOUIsYUFBYTtJQUNiLFNBQVM7SUFDVCxpQkFBaUI7SUFDakIsMEVBQTBFO0lBQzFFLFlBQVk7SUFDWixTQUFTO0lBR1Qsc0JBQXNCO0lBQ3RCLE9BQU87QUFDWCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmFtZS8uL3V0aWxzL2dldHNlbmQvbW9kZWxzLnRzPzFmMDAiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBpbXBvcnQgeyBPcGVuQUlBcGksIENvbmZpZ3VyYXRpb24gfSBmcm9tIFwib3BlbmFpXCI7XG5cbmltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0AvdXRpbHMvb3BlbmFpJ1xuLy8gaW1wb3J0IHsgT3BlbkFJQXBpLCBDaGF0Q29tcGxldGlvbkNyZWF0ZVJlcXVlc3QsIENyZWF0ZUNoYXRDb21wbGV0aW9uUmVzcG9uc2UgfSBmcm9tICdvcGVuYWknO1xuXG5cbmltcG9ydCBwcmlzbWEgZnJvbSBcIkAvcHJpc21hL3ByaXNtYUNsaWVudFwiO1xuaW1wb3J0IHBndmVjdG9yIGZyb20gJ3BndmVjdG9yJztcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtIH0gZnJvbSAnb3BlbmFpL3Jlc291cmNlcyc7XG5pbXBvcnQgeyB0aW1lIH0gZnJvbSAnY29uc29sZSc7XG5pbXBvcnQgeyBldmVudHMsIFByaXNtYSB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcblxuXG5cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0c2J5VXNlciA9IGFzeW5jICh1c2VySUQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUkVUXCIpXG4gICAgLy8gY29uc3QgdmlkZW9zID0gYXdhaXQgcHJpc21hLnByb2plY3RzLmZpbmRNYW55KHsgXG4gICAgLy8gICAgIHdoZXJlOiB7XG4gICAgLy8gICAgICAgICB1c2VyX2lkOiB1c2VySUQsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIG9yZGVyQnk6IHtcbiAgICAvLyAgICAgICAgIHByb2plY3RfbmFtZTogJ2FzYycsIC8vIG9yIGFueSBvdGhlciBmaWVsZCB5b3Ugd2FudCB0byBzb3J0IGJ5XG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSk7XG5cblxuICAgIC8vIHJldHVybiB2aWRlb3M7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuZXhwb3J0IGNvbnN0IGdldExvZ3MgPSBhc3luYyAoZGVwbG95bWVudElkOiBudW1iZXIpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhcIkdFVElORyBMT0dTIFwiKVxuICAgIC8vIGNvbnNvbGUubG9nKGRlcGxveW1lbnRJZClcbiAgICAvLyBjb25zdCB2aWRlb3MgPSBhd2FpdCBwcmlzbWEubG9ncy5maW5kTWFueSh7XG4gICAgLy8gICAgIHdoZXJlOiB7XG4gICAgLy8gICAgICAgICBkZXBsb3ltZW50X2lkOiBkZXBsb3ltZW50SWQsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICAgIG9yZGVyQnk6IHtcbiAgICAvLyAgICAgICAgIGxvZ19pZDogJ2FzYycsIC8vIG9yIGFueSBvdGhlciBmaWVsZCB5b3Ugd2FudCB0byBzb3J0IGJ5XG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSk7XG5cblxuICAgIC8vIHJldHVybiB2aWRlb3M7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5cbnR5cGUgVXNlclVwZGF0ZUlucHV0ID0gUHJpc21hLnVzZXJzVXBkYXRlSW5wdXQ7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKHVzZXJJZDogc3RyaW5nLCB1cGRhdGVzOiBVc2VyVXBkYXRlSW5wdXQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBmb3IgdGhlIHZhbGlkaXR5IG9mIHRoZSB1c2VySWRcbiAgICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1c2VyIElEJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcHRpb25hbGx5LCB2YWxpZGF0ZSBpbmRpdmlkdWFsIGZpZWxkcyBoZXJlLiBGb3IgZXhhbXBsZTpcbiAgICAgICAgLy8gaWYgKHVwZGF0ZXMuZW1haWwgJiYgIWlzVmFsaWRFbWFpbCh1cGRhdGVzLmVtYWlsKSkge1xuICAgICAgICAvLyAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBhZGRyZXNzJyk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBQZXJmb3JtIHRoZSB1cGRhdGVcbiAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlcnMudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJfaWQ6IHVzZXJJZCB9LFxuICAgICAgICAgICAgZGF0YTogdXBkYXRlcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHk6JywgdXBkYXRlZFVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgIH1cbn1cblxuXG5cblxuXG5cblxuXG5leHBvcnQgY29uc3QgYXJjaGl2ZUV2ZW50ID0gYXN5bmMgKHVzZXJfaWQ6IHN0cmluZywgZXZlbnRfaWQ6IHN0cmluZywgYWN0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcmVjb3JkIGluICd1c2VyX2V2ZW50X2ludGVyYWN0aW9ucycgd2l0aCBpbnRlcmFjdGlvbl90eXBlICdhcmNoaXZlZCdcbiAgICAgICAgY29uc3QgYXJjaGl2ZWRFdmVudCA9IGF3YWl0IHByaXNtYS51c2VyX2V2ZW50X2ludGVyYWN0aW9ucy5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxpZDogZXZlbnRfaWQsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25fdHlwZTogYWN0aW9uLFxuICAgICAgICAgICAgICAgIC8vIGFzc3VtaW5nICd0aW1lc3RhbXAnIHdpbGwgYmUgc2V0IHRvIENVUlJFTlRfVElNRVNUQU1QIGJ5IGRlZmF1bHQsIGFzIGRlZmluZWQgaW4geW91ciBzY2hlbWFcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdFdmVudCBhcmNoaXZlZDonLCBhcmNoaXZlZEV2ZW50KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhcmNoaXZpbmcgZXZlbnQ6JywgZXJyb3IpO1xuICAgICAgICAvLyBIYW5kbGUgb3IgdGhyb3cgZXJyb3IgYXBwcm9wcmlhdGVseVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xudHlwZSBFdmVudEZpbHRlciA9IHtcbiAgICBOT1Q/OiB7IGludGVybmFsaWQ6IHsgaW46IHN0cmluZ1tdIH0gfVtdO1xuICAgIGludGVybmFsaWQ/OiB7IGluOiBzdHJpbmdbXSB9O1xuICAgIGludmVzdG9yPzogYm9vbGVhbjtcbiAgICBidWlsZGVyPzogYm9vbGVhbjtcbiAgICBmdW4/OiBib29sZWFuO1xufTtcblxuXG4vLyBpbnRlcmZhY2UgRXZlbnRTdHJ1Y3R1cmUge1xuLy8gICAgIHN0YXJ0Pzogc3RyaW5nO1xuLy8gICAgIGVuZD86IHN0cmluZztcbi8vICAgICB1bmtub3duPzogYm9vbGVhbjtcbi8vICAgICBzZWFyY2g/OiBzdHJpbmc7XG4vLyB9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBldmVudFRvU3RydWN0dXJlKGV2ZW50OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIGRkID0gU3RyaW5nKHRvZGF5LmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB2YXIgbW0gPSBTdHJpbmcodG9kYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7IC8vSmFudWFyeSBpcyAwIVxuICAgIHZhciB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcblxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbW0gKyAnLycgKyBkZCArICcvJyArIHl5eXk7XG4gICAgY29uc29sZS5sb2coY3VycmVudERhdGUpXG4gICAgY29uc29sZS5sb2coXCJZWVlZWVlZXCIpXG5cbiAgICAvLyBDcmVhdGUgdGhlIHN5c3RlbSBhbmQgdXNlciBtZXNzYWdlcyBmb3IgZGF0ZSBhbmQgdGltZSBleHRyYWN0aW9uXG4gICAgbGV0IHN5c3RlbU1lc3NhZ2U6IENoYXRDb21wbGV0aW9uTWVzc2FnZVBhcmFtID0ge1xuICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICBjb250ZW50OiBcIllvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCBkZXNpZ25lZCB0byBvdXRwdXQgSlNPTi5cIixcbiAgICB9O1xuXG4gICAgbGV0IHVzZXJNZXNzYWdlOiBDaGF0Q29tcGxldGlvbk1lc3NhZ2VQYXJhbSA9IHtcbiAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgIGNvbnRlbnQ6IGBUb2RheSdzIGRhdGUgaXMgJHtjdXJyZW50RGF0ZX0uIFdoYXQgYXJlIHRoZSBzdGFydCBhbmQgZW5kIHRpbWVzdGFtcHMgZm9yIGFuIGV2ZW50IGRlc2NyaWJlZCBhcyAnJHtldmVudH0nIGluIElTTyA4NjAxIGZvcm1hdD8gS2V5cyBzaG91bGQgYmUgJ3N0YXJ0JyBhbmQgJ2VuZCcgdW5sZXNzIHlvdSBjYW4ndCBkZWNpcGhlciB0aGUgdGltZXMuIEluIHdoaWNoIGNhc2UgcmV0dXJuIHdpdGgga2V5ICd1bmtub3duJyBhbmQgdmFsdWUgJ3RydWUnYCxcbiAgICB9O1xuXG5cbiAgICBjb25zb2xlLmxvZyhzeXN0ZW1NZXNzYWdlKVxuICAgIGNvbnNvbGUubG9nKHVzZXJNZXNzYWdlKVxuICAgIC8vIENhbGwgdGhlIEFQSSBmb3IgZGF0ZSBhbmQgdGltZSBleHRyYWN0aW9uXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgICAgbW9kZWw6IFwiZ3B0LTQtdHVyYm8tcHJldmlld1wiLFxuICAgICAgICBtZXNzYWdlczogW3N5c3RlbU1lc3NhZ2UsIHVzZXJNZXNzYWdlXSxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9LFxuXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSlcbiAgICBsZXQgdGltZXN0YW1wcyA9IEpTT04ucGFyc2UocmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQgYXMgYW55KTtcbiAgICBjb25zb2xlLmxvZyh0aW1lc3RhbXBzKVxuXG4gICAgbGV0IHZhbHVlczogeyBbTmFtZTogc3RyaW5nXTogc3RyaW5nW10gfCBib29sZWFuIHwgc3RyaW5nIH0gPSB7fVxuICAgIGNvbnNvbGUubG9nKHR5cGVvZiAodGltZXN0YW1wcykpXG5cbiAgICBpZiAoJ3Vua25vd24nIGluIHRpbWVzdGFtcHMpIHtcbiAgICAgICAgdmFsdWVzWyd0aW1pbmcnXSA9IGZhbHNlXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZXNbJ3RpbWluZyddID0gW3RpbWVzdGFtcHNbJ3N0YXJ0J10sIHRpbWVzdGFtcHNbJ2VuZCddXVxuICAgIH1cbiAgICAvLyBDcmVhdGUgdGhlIHN5c3RlbSBhbmQgdXNlciBtZXNzYWdlcyBmb3Igc2VhcmNoIHRlcm0gZXh0cmFjdGlvblxuICAgIHN5c3RlbU1lc3NhZ2UgPSB7XG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LiBXaGVuIGdpdmVuIGEgZGVzY3JpcHRpb24gb2YgYW4gZXZlbnQsIHlvdXIgam9iIGlzIHRvIGV4dHJhY3QgdGhlIG1haW4gdG9waWMgb2YgdGhlIGV2ZW50IGFzIGEgc2VhcmNoIHRlcm0sIGRpc3JlZ2FyZGluZyBhbnkgZGF0ZSBvciB0aW1lLXJlbGF0ZWQgZGV0YWlscy5cIixcbiAgICB9O1xuICAgIHVzZXJNZXNzYWdlID0ge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDogYEdpdmVuIHRoZSBmb2xsb3dpbmcgcXVlcnk6ICcke2V2ZW50fScsIHdoYXQga2luZCBvZiBldmVudCBpcyB0aGUgdXNlciBsb29raW5nIGZvciBkaXNyZWdhcmRpbmcgaXRzIGRhdGU/IFJlc3BvbmQgd2l0aCBKU09OIG9iamVjdCB3aXRoIGtleSAnc2VhcmNoJy5gLFxuICAgIH07XG5cblxuICAgIC8vIENhbGwgdGhlIEFQSSBmb3Igc2VhcmNoIHRlcm0gZXh0cmFjdGlvblxuICAgIHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgICAgbW9kZWw6IFwiZ3B0LTQtdHVyYm8tcHJldmlld1wiLFxuICAgICAgICBtZXNzYWdlczogW3N5c3RlbU1lc3NhZ2UsIHVzZXJNZXNzYWdlXSxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9LFxuICAgIH0pO1xuXG5cblxuICAgIGxldCBzZWFyY2hUZXJtID0gSlNPTi5wYXJzZShyZXNwb25zZS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCBhcyBhbnkpO1xuICAgIHZhbHVlc1snc2VhcmNoJ10gPSBzZWFyY2hUZXJtWydzZWFyY2gnXVxuXG4gICAgLy8gbGV0IHNlYXJjaFRlcm06IEV2ZW50U3RydWN0dXJlID0gcmVzcG9uc2UuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCBhcyBFdmVudFN0cnVjdHVyZTtcblxuICAgIC8vIENvbWJpbmUgYm90aCByZXNwb25zZXNcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuXG5cblxuXG5pbnRlcmZhY2UgVXNlckVtYmVkZGluZyB7XG4gICAgZW1iZWRkaW5nOiBudW1iZXJbXTtcbn1cblxuXG5cblxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVFbWJlZGRpbmcocmF3OiBzdHJpbmcpIHtcbiAgICAvLyBPcGVuQUkgcmVjb21tZW5kcyByZXBsYWNpbmcgbmV3bGluZXMgd2l0aCBzcGFjZXMgZm9yIGJlc3QgcmVzdWx0c1xuICAgIGNvbnN0IGlucHV0ID0gcmF3LnJlcGxhY2UoL1xcbi9nLCAnICcpXG4gICAgY29uc3QgZW1iZWRkaW5nRGF0YSA9IGF3YWl0IG9wZW5haS5lbWJlZGRpbmdzLmNyZWF0ZSh7XG4gICAgICAgIG1vZGVsOiAndGV4dC1lbWJlZGRpbmctMy1sYXJnZScsXG4gICAgICAgIGlucHV0LFxuICAgIH0pXG4gICAgY29uc3QgW3sgZW1iZWRkaW5nIH1dID0gKGVtYmVkZGluZ0RhdGEgYXMgYW55KS5kYXRhXG4gICAgcmV0dXJuIGVtYmVkZGluZ1xufVxuXG5cbmV4cG9ydCBjb25zdCBzZWFyY2hFdmVudHMgPSBhc3luYyAocXVlcnk6IHN0cmluZywgdXNlcl9pZD86IHN0cmluZywgdXNlT25ib2FyZGluZ1RhYmxlID0gZmFsc2UsIGJ1aWxkZXI/OiBib29sZWFuLCBmdW5sb3Zlcj86IGJvb2xlYW4sIGludmVzdG9yPzogYm9vbGVhbiwgcGFnZSA9IDEsIHBhZ2VTaXplID0gMTApID0+IHtcblxuICAgIGNvbnN0IHNpbWlsYXJpdHlUaHJlc2hvbGQgPSAuOFxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG5cbiAgICBpZiAodXNlT25ib2FyZGluZ1RhYmxlKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvcyA9IGF3YWl0IHByaXNtYS5vbmJvYXJkaW5nLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgICAgICB0YWtlOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ2FzYycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZpZGVvcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZXZlbnRGaWx0ZXI6IEV2ZW50RmlsdGVyID0ge307XG5cblxuICAgICAgICBpZiAodXNlcl9pZCkge1xuXG4gICAgICAgICAgICAvLyBGZXRjaCB0aGUgdXNlcidzIGVtYmVkZGluZ1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGRUNISU5HXCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhxdWVyeSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJfaWQpXG5cbiAgICAgICAgICAgIGNvbnN0IGdvQWhlYWQgPSB0cnVlXG4gICAgICAgICAgICBpZiAoZ29BaGVhZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJFbWJlZGRpbmcgPSBhd2FpdCBnZW5lcmF0ZUVtYmVkZGluZyhxdWVyeSlcbiAgICAgICAgICAgICAgICBjb25zdCB2ZWN0b3JRdWVyeSA9IGBbJHt1c2VyRW1iZWRkaW5nLmpvaW4oJywnKX1dYFxuICAgICAgICAgICAgICAgIGNvbnN0IG5vbkFyY2hpdmVkRXZlbnRzV2l0aFNpbWlsYXJpdHkgPSBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3YFxuICAgIFNFTEVDVFxuICAgICAgICBlLmludGVybmFsaWQsXG4gICAgICAgIGUudGl0bGUsXG5cbiAgICAgICAgZS5kaXJlY3Rpb25zbGluayxcblxuICAgICAgICBlLmRpc3BsYXl0aXRsZSxcbiAgICAgICAgZS5kaXNwbGF5ZGVzY3JpcHRpb24sXG4gICAgICAgIGUuZGlzcGxheXRpdGxlLFxuICAgICAgICBlLmxvY2F0aW9uLFxuICAgICAgICBlLmRyb3Bkb3ducyxcbiAgICAgICAgZS5ldmVudGxpbmssXG4gICAgICAgIGUudGltZXN0YW1wc3RhcnQsXG4gICAgICAgIGUudGltZXN0YW1wZW5kLFxuICAgICAgICBlLmV2ZW50ZW5kdGltZSxcbiAgICAgICAgZS5ldmVudHN0YXJ0dGltZSxcbiAgICAgICAgZS5sYXN0dXBkYXRlZCxcbiAgICAgICAgZS5wbGF0Zm9ybSxcblxuXG4gICAgICAgIDEgLSAoZS5lbWJlZGRpbmcgPD0+ICR7dmVjdG9yUXVlcnl9Ojp2ZWN0b3IpIGFzIHNpbWlsYXJpdHlcbiAgICBGUk9NIGV2ZW50cyBlXG4gICAgTEVGVCBKT0lOIHVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zIHVlaSBPTiBlLmludGVybmFsaWQgPSB1ZWkuaW50ZXJuYWxpZCBBTkQgdWVpLnVzZXJfaWQgPSAke3VzZXJfaWR9IEFORCB1ZWkuaW50ZXJhY3Rpb25fdHlwZSA9ICdhcmNoaXZlZCdcbiAgICBXSEVSRSAodWVpLmludGVybmFsaWQgSVMgTlVMTCBPUiB1ZWkudXNlcl9pZCBJUyBOVUxMKSBcbiAgICAgIEFORCAxIC0gKGUuZW1iZWRkaW5nIDw9PiAke3ZlY3RvclF1ZXJ5fTo6dmVjdG9yKSA+IC40XG4gICAgT1JERVIgQlkgc2ltaWxhcml0eSBERVNDXG4gICAgTElNSVQgODtcbmA7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhub25BcmNoaXZlZEV2ZW50c1dpdGhTaW1pbGFyaXR5KVxuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9uQXJjaGl2ZWRFdmVudHNXaXRoU2ltaWxhcml0eTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOT1QgRU1CIFNlYXJjaFwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVkRXZlbnRzID0gYXdhaXQgcHJpc21hLnVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbl90eXBlOiAnYXJjaGl2ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxldCBhcmNoaXZlZEV2ZW50SWRzID0gYXJjaGl2ZWRFdmVudHMubWFwKGFlID0+IGFlLmludGVybmFsaWQpO1xuICAgICAgICAgICAgICAgIGV2ZW50RmlsdGVyWydOT1QnXSA9IFt7IGludGVybmFsaWQ6IHsgaW46IGFyY2hpdmVkRXZlbnRJZHMgfSB9XTtcblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBlbWJlZGRpbmdcbiAgICAgICAgICAgICAgICAvLyAuLi4gZXhpc3RpbmcgYXJjaGl2ZWQgZXZlbnRzIGNvZGUgLi4uXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGlmICh1c2VyX2lkKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBhcmNoaXZlZEV2ZW50cyA9IGF3YWl0IHByaXNtYS51c2VyX2V2ZW50X2ludGVyYWN0aW9ucy5maW5kTWFueSh7XG4gICAgICAgIC8vICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZCxcbiAgICAgICAgLy8gICAgICAgICAgICAgaW50ZXJhY3Rpb25fdHlwZTogJ2FyY2hpdmVkJyxcbiAgICAgICAgLy8gICAgICAgICB9LFxuICAgICAgICAvLyAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAvLyAgICAgICAgICAgICBpbnRlcm5hbGlkOiB0cnVlLFxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH0pO1xuXG4gICAgICAgIC8vICAgICBsZXQgYXJjaGl2ZWRFdmVudElkcyA9IGFyY2hpdmVkRXZlbnRzLm1hcChhZSA9PiBhZS5pbnRlcm5hbGlkKTtcbiAgICAgICAgLy8gICAgIGV2ZW50RmlsdGVyWydOT1QnXSA9IFt7IGludGVybmFsaWQ6IHsgaW46IGFyY2hpdmVkRXZlbnRJZHMgfSB9XTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChpbnZlc3RvciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2ludmVzdG9yJ10gPSB0cnVlO1xuICAgICAgICBpZiAoYnVpbGRlciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2J1aWxkZXInXSA9IHRydWU7XG4gICAgICAgIGlmIChmdW5sb3ZlciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2Z1biddID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBldmVudHMgPSBhd2FpdCBwcmlzbWEuZXZlbnRzLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiBldmVudEZpbHRlcixcbiAgICAgICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgICAgICB0YWtlOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICBsYXN0dXBkYXRlZDogJ2Rlc2MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cblxuXG4gICAgICAgIC8vIGNvbnN0IGV2ZW50cyA9IGF3YWl0IHByaXNtYS5ldmVudHMuZmluZE1hbnkoe1xuICAgICAgICAvLyAgICAgd2hlcmU6IGV2ZW50RmlsdGVyLFxuICAgICAgICAvLyAgICAgc2tpcDogc2tpcCxcbiAgICAgICAgLy8gICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgICAvLyAgICAgb3JkZXJCeToge1xuICAgICAgICAvLyAgICAgICAgIGxhc3R1cGRhdGVkOiAnZGVzYycsXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyB9KTtcblxuICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgIH1cbn07XG5cblxuXG5cbmV4cG9ydCBjb25zdCBtYWdpY1NlYXJjaEV2ZW50cyA9IGFzeW5jIChxdWVyeTogc3RyaW5nLCBpbml0aWFsOiBzdHJpbmcsIGVuZDogc3RyaW5nLCB1c2VyX2lkPzogc3RyaW5nLCB1c2VPbmJvYXJkaW5nVGFibGUgPSBmYWxzZSwgYnVpbGRlcj86IGJvb2xlYW4sIGZ1bmxvdmVyPzogYm9vbGVhbiwgaW52ZXN0b3I/OiBib29sZWFuLCBwYWdlID0gMSwgcGFnZVNpemUgPSAxMCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdtYWdpYyBzZWFyY2ggZXZlbnQnKVxuICAgIGNvbnN0IHNpbWlsYXJpdHlUaHJlc2hvbGQgPSAuOFxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG5cbiAgICBpZiAodXNlT25ib2FyZGluZ1RhYmxlKSB7XG4gICAgICAgIGNvbnN0IHZpZGVvcyA9IGF3YWl0IHByaXNtYS5vbmJvYXJkaW5nLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgICAgICB0YWtlOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ2FzYycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZpZGVvcztcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZXZlbnRGaWx0ZXI6IEV2ZW50RmlsdGVyID0ge307XG5cblxuICAgICAgICBpZiAodXNlcl9pZCkge1xuXG4gICAgICAgICAgICAvLyBGZXRjaCB0aGUgdXNlcidzIGVtYmVkZGluZ1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGRUNISU5HXCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhxdWVyeSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluaXRpYWwpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyX2lkKVxuXG4gICAgICAgICAgICBjb25zdCBnb0FoZWFkID0gdHJ1ZVxuICAgICAgICAgICAgaWYgKGdvQWhlYWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyRW1iZWRkaW5nID0gYXdhaXQgZ2VuZXJhdGVFbWJlZGRpbmcocXVlcnkpXG4gICAgICAgICAgICAgICAgY29uc3QgdmVjdG9yUXVlcnkgPSBgWyR7dXNlckVtYmVkZGluZy5qb2luKCcsJyl9XWBcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5vbkFyY2hpdmVkRXZlbnRzV2l0aFNpbWlsYXJpdHkgPSBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3YFxuICAgIFNFTEVDVFxuICAgICAgICBlLmludGVybmFsaWQsXG4gICAgICAgIGUudGl0bGUsXG5cbiAgICAgICAgZS5kaXJlY3Rpb25zbGluayxcblxuICAgICAgICBlLmRpc3BsYXl0aXRsZSxcbiAgICAgICAgZS5kaXNwbGF5ZGVzY3JpcHRpb24sXG4gICAgICAgIGUuZGlzcGxheXRpdGxlLFxuICAgICAgICBlLmxvY2F0aW9uLFxuICAgICAgICBlLmRyb3Bkb3ducyxcbiAgICAgICAgZS5ldmVudGxpbmssXG4gICAgICAgIGUudGltZXN0YW1wc3RhcnQsXG4gICAgICAgIGUudGltZXN0YW1wZW5kLFxuICAgICAgICBlLmV2ZW50ZW5kdGltZSxcbiAgICAgICAgZS5ldmVudHN0YXJ0dGltZSxcbiAgICAgICAgZS5sYXN0dXBkYXRlZCxcbiAgICAgICAgZS5wbGF0Zm9ybSxcblxuXG4gICAgICAgIDEgLSAoZS5lbWJlZGRpbmcgPD0+ICR7dmVjdG9yUXVlcnl9Ojp2ZWN0b3IpIGFzIHNpbWlsYXJpdHlcbiAgICBGUk9NIGV2ZW50cyBlXG4gICAgTEVGVCBKT0lOIHVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zIHVlaSBPTiBlLmludGVybmFsaWQgPSB1ZWkuaW50ZXJuYWxpZCBBTkQgdWVpLnVzZXJfaWQgPSAke3VzZXJfaWR9IEFORCB1ZWkuaW50ZXJhY3Rpb25fdHlwZSA9ICdhcmNoaXZlZCdcbiAgICBXSEVSRSAodWVpLmludGVybmFsaWQgSVMgTlVMTCBPUiB1ZWkudXNlcl9pZCBJUyBOVUxMKSBcbiAgICAgIEFORCAxIC0gKGUuZW1iZWRkaW5nIDw9PiAke3ZlY3RvclF1ZXJ5fTo6dmVjdG9yKSA+IC40XG4gICAgICBBTkQgKCR7aW5pdGlhbH0gSVMgTlVMTCBPUiBlLnRpbWVzdGFtcHN0YXJ0ID49ICR7aW5pdGlhbH06OnRpbWVzdGFtcClcbiAgICAgIEFORCAoJHtlbmR9IElTIE5VTEwgT1IgZS50aW1lc3RhbXBlbmQgPD0gJHtlbmR9Ojp0aW1lc3RhbXApXG4gICAgT1JERVIgQlkgc2ltaWxhcml0eSBERVNDXG4gICAgTElNSVQgODtcbmA7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhub25BcmNoaXZlZEV2ZW50c1dpdGhTaW1pbGFyaXR5KVxuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbm9uQXJjaGl2ZWRFdmVudHNXaXRoU2ltaWxhcml0eTtcbiAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOT1QgRU1CIFNlYXJjaFwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVkRXZlbnRzID0gYXdhaXQgcHJpc21hLnVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbl90eXBlOiAnYXJjaGl2ZWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxldCBhcmNoaXZlZEV2ZW50SWRzID0gYXJjaGl2ZWRFdmVudHMubWFwKGFlID0+IGFlLmludGVybmFsaWQpO1xuICAgICAgICAgICAgICAgIGV2ZW50RmlsdGVyWydOT1QnXSA9IFt7IGludGVybmFsaWQ6IHsgaW46IGFyY2hpdmVkRXZlbnRJZHMgfSB9XTtcblxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHVzZXIgZG9lcyBub3QgaGF2ZSBhbiBlbWJlZGRpbmdcbiAgICAgICAgICAgICAgICAvLyAuLi4gZXhpc3RpbmcgYXJjaGl2ZWQgZXZlbnRzIGNvZGUgLi4uXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGlmICh1c2VyX2lkKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBhcmNoaXZlZEV2ZW50cyA9IGF3YWl0IHByaXNtYS51c2VyX2V2ZW50X2ludGVyYWN0aW9ucy5maW5kTWFueSh7XG4gICAgICAgIC8vICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgLy8gICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZCxcbiAgICAgICAgLy8gICAgICAgICAgICAgaW50ZXJhY3Rpb25fdHlwZTogJ2FyY2hpdmVkJyxcbiAgICAgICAgLy8gICAgICAgICB9LFxuICAgICAgICAvLyAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAvLyAgICAgICAgICAgICBpbnRlcm5hbGlkOiB0cnVlLFxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH0pO1xuXG4gICAgICAgIC8vICAgICBsZXQgYXJjaGl2ZWRFdmVudElkcyA9IGFyY2hpdmVkRXZlbnRzLm1hcChhZSA9PiBhZS5pbnRlcm5hbGlkKTtcbiAgICAgICAgLy8gICAgIGV2ZW50RmlsdGVyWydOT1QnXSA9IFt7IGludGVybmFsaWQ6IHsgaW46IGFyY2hpdmVkRXZlbnRJZHMgfSB9XTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGlmIChpbnZlc3RvciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2ludmVzdG9yJ10gPSB0cnVlO1xuICAgICAgICBpZiAoYnVpbGRlciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2J1aWxkZXInXSA9IHRydWU7XG4gICAgICAgIGlmIChmdW5sb3ZlciA9PT0gdHJ1ZSkgZXZlbnRGaWx0ZXJbJ2Z1biddID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBldmVudHMgPSBhd2FpdCBwcmlzbWEuZXZlbnRzLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiBldmVudEZpbHRlcixcbiAgICAgICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgICAgICB0YWtlOiBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICBsYXN0dXBkYXRlZDogJ2Rlc2MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cblxuICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgIH1cbn07XG5cblxuZXhwb3J0IHR5cGUgRXZlbnRXaXRoSW50ZXJhY3Rpb25UeXBlID0gZXZlbnRzICYgeyBpbnRlcmFjdGlvbl90eXBlOiBcIlBFTkRJTkdcIiB8IFwiR09JTkdcIiB8IFwiREVOSUVEXCIgfCB1bmRlZmluZWQgfTtcblxuZXhwb3J0IGNvbnN0IGdldEFnZW5kYSA9IGFzeW5jICh1c2VyX2lkOiBzdHJpbmcsIHBhZ2UgPSAxLCBwYWdlU2l6ZSA9IDEwKTogUHJvbWlzZTxFdmVudFdpdGhJbnRlcmFjdGlvblR5cGVbXT4gPT4ge1xuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG5cbiAgICBsZXQgZXZlbnRGaWx0ZXI6IEV2ZW50RmlsdGVyID0ge307XG5cbiAgICAvLyBGZXRjaCBub24tYXJjaGl2ZWQgZXZlbnQgaW50ZXJhY3Rpb25zIGZvciB0aGUgdXNlclxuICAgIGNvbnN0IG5vbkFyY2hpdmVkRXZlbnRzID0gYXdhaXQgcHJpc21hLnVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbl90eXBlOiB7XG4gICAgICAgICAgICAgICAgbm90OiAnYXJjaGl2ZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBpbnRlcm5hbGlkOiB0cnVlLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25fdHlwZTogdHJ1ZSxcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRXhwbGljaXRseSBkZWNsYXJlIHRoZSB0eXBlIG9mIGludGVyYWN0aW9uVHlwZU1hcFxuICAgIGNvbnN0IGludGVyYWN0aW9uVHlwZU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICAgIG5vbkFyY2hpdmVkRXZlbnRzLmZvckVhY2goZXZlbnRJbnRlcmFjdGlvbiA9PiB7XG4gICAgICAgIGludGVyYWN0aW9uVHlwZU1hcFtldmVudEludGVyYWN0aW9uLmludGVybmFsaWRdID0gZXZlbnRJbnRlcmFjdGlvbi5pbnRlcmFjdGlvbl90eXBlO1xuICAgIH0pO1xuXG4gICAgLy8gRmV0Y2ggZXZlbnRzIGJhc2VkIG9uIHRoZSBub24tYXJjaGl2ZWQgZXZlbnQgSURzXG4gICAgbGV0IGV2ZW50cyA9IGF3YWl0IHByaXNtYS5ldmVudHMuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgLi4uZXZlbnRGaWx0ZXIsXG4gICAgICAgICAgICBpbnRlcm5hbGlkOiB7IGluOiBPYmplY3Qua2V5cyhpbnRlcmFjdGlvblR5cGVNYXApIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNraXAsXG4gICAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgICBsYXN0dXBkYXRlZDogJ2Rlc2MnLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQWRkIGludGVyYWN0aW9uX3R5cGUgdG8gZWFjaCBldmVudFxuICAgIGNvbnN0IGV2ZW50c1dpdGhJbnRlcmFjdGlvblR5cGU6IEV2ZW50V2l0aEludGVyYWN0aW9uVHlwZVtdID0gZXZlbnRzLm1hcChldmVudCA9PiAoe1xuICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgaW50ZXJhY3Rpb25fdHlwZTogKGludGVyYWN0aW9uVHlwZU1hcFtldmVudC5pbnRlcm5hbGlkXSBhcyBcIlBFTkRJTkdcIiB8IFwiR09JTkdcIiB8IFwiREVOSUVEXCIgfCB1bmRlZmluZWQpIHx8IHVuZGVmaW5lZCxcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gZXZlbnRzV2l0aEludGVyYWN0aW9uVHlwZTtcbn07XG5cblxuLy8gZXhwb3J0IGNvbnN0IGdldEFnZW5kYSA9IGFzeW5jICh1c2VyX2lkOiBzdHJpbmcsIHBhZ2UgPSAxLCBwYWdlU2l6ZSA9IDEwKSA9PiB7XG5cbi8vICAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIHBhZ2VTaXplO1xuXG4vLyAgICAgbGV0IGV2ZW50RmlsdGVyOiBFdmVudEZpbHRlciA9IHt9O1xuXG4vLyAgICAgaWYgKHVzZXJfaWQpIHtcbi8vICAgICAgICAgY29uc3Qgbm9uQXJjaGl2ZWRFdmVudHMgPSBhd2FpdCBwcmlzbWEudXNlcl9ldmVudF9pbnRlcmFjdGlvbnMuZmluZE1hbnkoe1xuLy8gICAgICAgICAgICAgd2hlcmU6IHtcbi8vICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkLFxuLy8gICAgICAgICAgICAgICAgIGludGVyYWN0aW9uX3R5cGU6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgbm90OiAnYXJjaGl2ZWQnLFxuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgc2VsZWN0OiB7XG4vLyAgICAgICAgICAgICAgICAgaW50ZXJuYWxpZDogdHJ1ZSxcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgICAgbGV0IG5vbkFyY2hpdmVkRXZlbnRJZHMgPSBub25BcmNoaXZlZEV2ZW50cy5tYXAoZXZlbnQgPT4gZXZlbnQuaW50ZXJuYWxpZCk7XG4vLyAgICAgICAgIGV2ZW50RmlsdGVyWydpbnRlcm5hbGlkJ10gPSB7IGluOiBub25BcmNoaXZlZEV2ZW50SWRzIH07XG4vLyAgICAgfVxuXG4vLyAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgcHJpc21hLmV2ZW50cy5maW5kTWFueSh7XG4vLyAgICAgICAgIHdoZXJlOiBldmVudEZpbHRlcixcbi8vICAgICAgICAgc2tpcDogc2tpcCxcbi8vICAgICAgICAgdGFrZTogcGFnZVNpemUsXG4vLyAgICAgICAgIG9yZGVyQnk6IHtcbi8vICAgICAgICAgICAgIGxhc3R1cGRhdGVkOiAnZGVzYycsXG4vLyAgICAgICAgIH0sXG4vLyAgICAgfSk7XG5cbi8vICAgICBjb25zb2xlLmxvZyhldmVudHMpXG5cblxuLy8gICAgIHJldHVybiBldmVudHM7XG5cbi8vIH07XG5cblxuXG5leHBvcnQgY29uc3QgZ2V0RXZlbnRzID0gYXN5bmMgKHVzZXJfaWQ/OiBzdHJpbmcsIHVzZU9uYm9hcmRpbmdUYWJsZSA9IGZhbHNlLCBidWlsZGVyPzogYm9vbGVhbiwgZnVubG92ZXI/OiBib29sZWFuLCBpbnZlc3Rvcj86IGJvb2xlYW4sIHBhZ2UgPSAxLCBwYWdlU2l6ZSA9IDEwLCBlbWJlZGRpbmc/OiBudW1iZXJbXSkgPT4ge1xuXG4gICAgY29uc3Qgc2ltaWxhcml0eVRocmVzaG9sZCA9IC44XG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBwYWdlU2l6ZTtcblxuICAgIGlmICh1c2VPbmJvYXJkaW5nVGFibGUpIHtcbiAgICAgICAgY29uc3QgdmlkZW9zID0gYXdhaXQgcHJpc21hLm9uYm9hcmRpbmcuZmluZE1hbnkoe1xuICAgICAgICAgICAgc2tpcDogc2tpcCxcbiAgICAgICAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnYXNjJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmlkZW9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBldmVudEZpbHRlcjogRXZlbnRGaWx0ZXIgPSB7fTtcblxuICAgICAgICAvLyBsZXQgZXZlbnRGaWx0ZXIgPSB7fTtcblxuICAgICAgICBpZiAodXNlcl9pZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGRVRDSElORyBVU0VSIElOVEVSQUNUSU9OU1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJbnRlcmFjdGlvbnMgPSBhd2FpdCBwcmlzbWEudXNlcl9ldmVudF9pbnRlcmFjdGlvbnMuZmluZE1hbnkoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJfaWQgfSxcbiAgICAgICAgICAgICAgICBzZWxlY3Q6IHsgaW50ZXJuYWxpZDogdHJ1ZSB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBpbnRlcmFjdGVkRXZlbnRJZHMgPSB1c2VySW50ZXJhY3Rpb25zLm1hcChpbnRlcmFjdGlvbiA9PiBpbnRlcmFjdGlvbi5pbnRlcm5hbGlkKTtcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGVkRXZlbnRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRGaWx0ZXJbJ05PVCddID0gW3sgaW50ZXJuYWxpZDogeyBpbjogaW50ZXJhY3RlZEV2ZW50SWRzIH0gfV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW52ZXN0b3IgPT09IHRydWUpIGV2ZW50RmlsdGVyWydpbnZlc3RvciddID0gdHJ1ZTtcbiAgICAgICAgaWYgKGJ1aWxkZXIgPT09IHRydWUpIGV2ZW50RmlsdGVyWydidWlsZGVyJ10gPSB0cnVlO1xuICAgICAgICBpZiAoZnVubG92ZXIgPT09IHRydWUpIGV2ZW50RmlsdGVyWydmdW4nXSA9IHRydWU7XG5cbiAgICAgICAgaWYgKGVtYmVkZGluZykge1xuXG4gICAgICAgICAgICBjb25zdCB2ZWN0b3JRdWVyeSA9IGBbJHtlbWJlZGRpbmcuam9pbignLCcpfV1gXG5cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IGF3YWl0IHByaXNtYS4kcXVlcnlSYXdgXG4gICAgICAgICAgICBTRUxFQ1RcbiAgICAgICAgICAgICAgICBlLmludGVybmFsaWQsXG4gICAgICAgICAgICAgICAgZS50aXRsZSxcbiAgICAgICAgICAgICAgICBlLmRpcmVjdGlvbnNsaW5rLFxuICAgICAgICAgICAgICAgIGUuZGlzcGxheXRpdGxlLFxuICAgICAgICAgICAgICAgIGUuZGlzcGxheWRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGUubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgZS5kcm9wZG93bnMsXG4gICAgICAgICAgICAgICAgZS5ldmVudGxpbmssXG4gICAgICAgICAgICAgICAgZS50aW1lc3RhbXBzdGFydCxcbiAgICAgICAgICAgICAgICBlLnRpbWVzdGFtcGVuZCxcbiAgICAgICAgICAgICAgICBlLmV2ZW50ZW5kdGltZSxcbiAgICAgICAgICAgICAgICBlLmV2ZW50c3RhcnR0aW1lLFxuICAgICAgICAgICAgICAgIGUubGFzdHVwZGF0ZWQsXG4gICAgICAgICAgICAgICAgZS5wbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICAxIC0gKGUuZW1iZWRkaW5nIDw9PiAke3ZlY3RvclF1ZXJ5fTo6dmVjdG9yKSBhcyBzaW1pbGFyaXR5XG4gICAgICAgICAgICBGUk9NIGV2ZW50cyBlXG4gICAgICAgICAgICBMRUZUIEpPSU4gdXNlcl9ldmVudF9pbnRlcmFjdGlvbnMgdWVpIE9OIGUuaW50ZXJuYWxpZCA9IHVlaS5pbnRlcm5hbGlkIEFORCB1ZWkudXNlcl9pZCA9ICR7dXNlcl9pZH0gQU5EIHVlaS5pbnRlcmFjdGlvbl90eXBlID0gJ2FyY2hpdmVkJ1xuICAgICAgICAgICAgV0hFUkUgKHVlaS5pbnRlcm5hbGlkIElTIE5VTEwgT1IgdWVpLnVzZXJfaWQgSVMgTlVMTClcbiAgICAgICAgICAgICAgQU5EICR7UHJpc21hLnNxbGAxIC0gKGUuZW1iZWRkaW5nIDw9PiAke3ZlY3RvclF1ZXJ5fTo6dmVjdG9yKSA+IC40YH1cbiAgICAgICAgICAgICAgJHtldmVudEZpbHRlclsnTk9UJ10gPyBgQU5EIGUuaW50ZXJuYWxpZCBOT1QgSU4gKCR7UHJpc21hLmpvaW4oZXZlbnRGaWx0ZXJbJ05PVCddWzBdLmludGVybmFsaWQuaW4pfSlgIDogJyd9XG4gICAgICAgICAgICAgICR7ZXZlbnRGaWx0ZXJbJ2ludmVzdG9yJ10gPyAnQU5EIGUuaW52ZXN0b3IgPSB0cnVlJyA6ICcnfVxuICAgICAgICAgICAgICAke2V2ZW50RmlsdGVyWydidWlsZGVyJ10gPyAnQU5EIGUuYnVpbGRlciA9IHRydWUnIDogJyd9XG4gICAgICAgICAgICAgICR7ZXZlbnRGaWx0ZXJbJ2Z1biddID8gJ0FORCBlLmZ1biA9IHRydWUnIDogJyd9ICAgIFxuICAgICAgICAgICAgT1JERVIgQlkgc2ltaWxhcml0eSBERVNDXG4gICAgICAgICAgICBMSU1JVCAke3BhZ2VTaXplfVxuICAgICAgICAgICAgT0ZGU0VUICR7c2tpcH07XG4gICAgICAgIGA7XG5cblxuXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRzO1xuICAgICAgICB9XG5cblxuICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgcHJpc21hLmV2ZW50cy5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IGV2ZW50RmlsdGVyLFxuICAgICAgICAgICAgICAgIHNraXA6IHNraXAsXG4gICAgICAgICAgICAgICAgdGFrZTogcGFnZVNpemUsXG4gICAgICAgICAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgICAgICAgICAgICBsYXN0dXBkYXRlZDogJ2Rlc2MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBldmVudHM7XG5cbiAgICAgICAgfVxuXG5cblxuXG5cbiAgICB9XG59O1xuXG5cbi8vIGV4cG9ydCBjb25zdCBnZXRFdmVudHMgPSBhc3luYyAodXNlcl9pZD86IHN0cmluZywgdXNlT25ib2FyZGluZ1RhYmxlID0gZmFsc2UsIGJ1aWxkZXI/OiBib29sZWFuLCBmdW5sb3Zlcj86IGJvb2xlYW4sIGludmVzdG9yPzogYm9vbGVhbikgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKFwiR0VUVElORyBMT0dTXCIpO1xuXG4vLyAgICAgaWYgKHVzZU9uYm9hcmRpbmdUYWJsZSkge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkdFVFRJTkcgTE9HUyBGUk9NIE9OQk9BUkRJTkdcIik7XG4vLyAgICAgICAgIGNvbnN0IHZpZGVvcyA9IGF3YWl0IHByaXNtYS5vbmJvYXJkaW5nLmZpbmRNYW55KHtcbi8vICAgICAgICAgICAgIHRha2U6IDEwLFxuLy8gICAgICAgICAgICAgb3JkZXJCeToge1xuLy8gICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnYXNjJyxcbi8vICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICByZXR1cm4gdmlkZW9zO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGxldCBldmVudEZpbHRlcjogRXZlbnRGaWx0ZXIgPSB7fTtcblxuLy8gICAgICAgICBpZih1c2VyX2lkKSB7IFxuLy8gICAgICAgICAgICAgY29uc3QgYXJjaGl2ZWRFdmVudHMgPSBhd2FpdCBwcmlzbWEudXNlcl9ldmVudF9pbnRlcmFjdGlvbnMuZmluZE1hbnkoe1xuLy8gICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJfaWQsXG4vLyAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uX3R5cGU6ICdhcmNoaXZlZCcsXG4vLyAgICAgICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxpZDogdHJ1ZSxcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KTtcblxuLy8gICAgICAgICAgICAgbGV0IGFyY2hpdmVkRXZlbnRJZHMgPSBhcmNoaXZlZEV2ZW50cy5tYXAoYWUgPT4gYWUuaW50ZXJuYWxpZCk7XG4vLyAgICAgICAgICAgICBldmVudEZpbHRlclsnTk9UJ10gPSBbeyBpbnRlcm5hbGlkOiB7IGluOiBhcmNoaXZlZEV2ZW50SWRzIH0gfV07XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICBpZiAoaW52ZXN0b3IgPT09IHRydWUpIGV2ZW50RmlsdGVyWydpbnZlc3RvciddID0gdHJ1ZTtcbi8vICAgICAgICAgaWYgKGJ1aWxkZXIgPT09IHRydWUpIGV2ZW50RmlsdGVyWydidWlsZGVyJ10gPSB0cnVlO1xuLy8gICAgICAgICBpZiAoZnVubG92ZXIgPT09IHRydWUpIGV2ZW50RmlsdGVyWydmdW4nXSA9IHRydWU7XG5cbi8vICAgICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgcHJpc21hLmV2ZW50cy5maW5kTWFueSh7XG4vLyAgICAgICAgICAgICB3aGVyZTogZXZlbnRGaWx0ZXIsXG4vLyAgICAgICAgICAgICB0YWtlOiAxMCxcbi8vICAgICAgICAgICAgIG9yZGVyQnk6IHtcbi8vICAgICAgICAgICAgICAgICBsYXN0dXBkYXRlZDogJ2FzYycsXG4vLyAgICAgICAgICAgICB9LFxuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICByZXR1cm4gZXZlbnRzO1xuLy8gICAgIH1cbi8vIH07XG5cblxuLy8gICBleHBvcnQgY29uc3QgZ2V0RXZlbnRzID0gYXN5bmMgKHVzZXJfaWQ/OiBzdHJpbmcsIHVzZU9uYm9hcmRpbmdUYWJsZSA9IGZhbHNlLCBidWlsZGVyPzogYm9vbGVhbiwgZnVubG92ZXI/OiBib29sZWFuLCBpbnZlc3Rvcj86IGJvb2xlYW4pID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcIkdFVFRJTkcgTE9HU1wiKTtcblxuLy8gICAgIGlmICh1c2VPbmJvYXJkaW5nVGFibGUpIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coXCJHRVRUSU5HIExPR1MgRlJPTSBPTkJPQVJESU5HXCIpO1xuLy8gICAgICAgICBjb25zdCB2aWRlb3MgPSBhd2FpdCBwcmlzbWEub25ib2FyZGluZy5maW5kTWFueSh7XG4vLyAgICAgICAgICAgICB0YWtlOiAxMCxcbi8vICAgICAgICAgICAgIG9yZGVyQnk6IHtcbi8vICAgICAgICAgICAgICAgICBsb2NhdGlvbjogJ2FzYycsIC8vIE9yIGFueSBvdGhlciBwcmVmZXJlbmNlXG4vLyAgICAgICAgICAgICB9LFxuLy8gICAgICAgICB9KTtcbi8vICAgICAgICAgcmV0dXJuIHZpZGVvcztcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBpZih1c2VyX2lkKSB7IC8vIE9ubHkgYXBwbHkgZmlsdGVyaW5nIGlmIHVzZXJfaWQgaXMgcHJvdmlkZWRcbi8vICAgICAgICAgICAgIC8vIFF1ZXJ5IHRvIGdldCBsaXN0IG9mIGFyY2hpdmVkIGV2ZW50IElEcyBmb3IgdGhlIHVzZXJcbi8vICAgICAgICAgICAgIGNvbnN0IGFyY2hpdmVkRXZlbnRzID0gYXdhaXQgcHJpc21hLnVzZXJfZXZlbnRfaW50ZXJhY3Rpb25zLmZpbmRNYW55KHtcbi8vICAgICAgICAgICAgICAgICB3aGVyZToge1xuLy8gICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkLFxuLy8gICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbl90eXBlOiAnYXJjaGl2ZWQnLFxuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4vLyAgICAgICAgICAgICAgICAgICAgIGludGVybmFsaWQ6IHRydWUsIC8vIFNlbGVjdGluZyBvbmx5IHRoZSBpbnRlcm5hbCBJRHMgb2YgdGhlIGFyY2hpdmVkIGV2ZW50c1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgICAgICBsZXQgYXJjaGl2ZWRFdmVudElkcyA9IGFyY2hpdmVkRXZlbnRzLm1hcChhZSA9PiBhZS5pbnRlcm5hbGlkKTtcblxuLy8gICAgICAgICAgICAgLy8gTm93LCBxdWVyeSB0aGUgZXZlbnRzIGV4Y2x1ZGluZyB0aGUgb25lcyBhcmNoaXZlZCBieSB0aGUgdXNlclxuLy8gICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gYXdhaXQgcHJpc21hLmV2ZW50cy5maW5kTWFueSh7XG4vLyAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgTk9UOiBbXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxpZDogeyBpbjogYXJjaGl2ZWRFdmVudElkcyB9LFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgICAgICAgICAgXSxcbi8vICAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgICAgIHRha2U6IDEwLFxuLy8gICAgICAgICAgICAgICAgIG9yZGVyQnk6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgbGFzdHVwZGF0ZWQ6ICdhc2MnLFxuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICB9KTtcblxuLy8gICAgICAgICAgICAgcmV0dXJuIGV2ZW50cztcbi8vICAgICAgICAgfSBlbHNlIHsgLy8gSWYgdXNlcl9pZCBpcyBub3QgcHJvdmlkZWQsIGZldGNoIGFsbCBldmVudHMgd2l0aG91dCBmaWx0ZXJpbmdcbi8vICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEuZXZlbnRzLmZpbmRNYW55KHtcbi8vICAgICAgICAgICAgICAgICB0YWtlOiAxMCxcbi8vICAgICAgICAgICAgICAgICBvcmRlckJ5OiB7XG4vLyAgICAgICAgICAgICAgICAgICAgIGxhc3R1cGRhdGVkOiAnYXNjJyxcbi8vICAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9O1xuXG5cblxuXG4vLyBleHBvcnQgY29uc3QgZ2V0RXZlbnRzID0gYXN5bmMgKHVzZU9uYm9hcmRpbmdUYWJsZSA9IGZhbHNlLCB1c2VyX2lkOiBzdHJpbmcpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcIkdFVFRJTkcgTE9HU1wiKTtcblxuLy8gICAgIGlmICh1c2VPbmJvYXJkaW5nVGFibGUpIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coXCJHRVRJTkcgTE9HUyBcIilcbi8vICAgICAgICAgY29uc3QgdmlkZW9zID0gYXdhaXQgcHJpc21hLm9uYm9hcmRpbmcuZmluZE1hbnkoe1xuLy8gICAgICAgICAgICAgdGFrZTogMTAsXG4vLyAgICAgICAgICAgICBvcmRlckJ5OiB7XG4vLyAgICAgICAgICAgICAgICAgbG9jYXRpb246ICdhc2MnLCAvLyBvciBhbnkgb3RoZXIgZmllbGQgeW91IHdhbnQgdG8gc29ydCBieVxuLy8gICAgICAgICAgICAgfSxcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICAgIHJldHVybiB2aWRlb3M7XG4vLyAgICAgfVxuLy8gICAgIGVsc2Uge1xuLy8gICAgICAgICBjb25zdCB2aWRlb3MgPSBhd2FpdCBwcmlzbWEuZXZlbnRzLmZpbmRNYW55KHtcbi8vICAgICAgICAgICAgIHRha2U6IDEwLFxuLy8gICAgICAgICAgICAgb3JkZXJCeToge1xuLy8gICAgICAgICAgICAgICAgIGxhc3R1cGRhdGVkOiAnYXNjJywgLy8gb3IgYW55IG90aGVyIGZpZWxkIHlvdSB3YW50IHRvIHNvcnQgYnlcbi8vICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgIH0pO1xuLy8gICAgICAgICByZXR1cm4gdmlkZW9zO1xuLy8gICAgIH1cblxuXG5cbi8vIH07XG5cblxuXG5leHBvcnQgY29uc3QgZ2V0RGVwbG95bWVudHNCeVByb2plY3RJZHMgPSBhc3luYyAocHJvamVjdElkczogbnVtYmVyW10pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkdFVFRJTkcgREVQTE9ZTUVOVFMgRk9SIFBST0pFQ1QgSURzXCIpO1xuICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RJZHMpO1xuXG4gICAgLy8gY29uc3QgZGVwbG95bWVudHMgPSBhd2FpdCBwcmlzbWEuZGVwbG95bWVudHMuZmluZE1hbnkoe1xuICAgIC8vICAgICB3aGVyZToge1xuICAgIC8vICAgICAgICAgcHJvamVjdF9pZDoge1xuICAgIC8vICAgICAgICAgICAgIGluOiBwcm9qZWN0SWRzLFxuICAgIC8vICAgICAgICAgfSxcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgICAgb3JkZXJCeToge1xuICAgIC8vICAgICAgICAgZGVwbG95bWVudF9pZDogJ2FzYycsIC8vIG9yIGFueSBvdGhlciBmaWVsZCB5b3Ugd2FudCB0byBzb3J0IGJ5XG4gICAgLy8gLy8gICAgIH0sXG4gICAgLy8gLy8gfSk7XG5cblxuICAgIC8vIHJldHVybiBkZXBsb3ltZW50cztcbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbiJdLCJuYW1lcyI6WyJvcGVuYWkiLCJwcmlzbWEiLCJQcmlzbWEiLCJnZXRQcm9qZWN0c2J5VXNlciIsInVzZXJJRCIsImNvbnNvbGUiLCJsb2ciLCJnZXRMb2dzIiwiZGVwbG95bWVudElkIiwidXBkYXRlVXNlciIsInVzZXJJZCIsInVwZGF0ZXMiLCJFcnJvciIsInVwZGF0ZWRVc2VyIiwidXNlcnMiLCJ1cGRhdGUiLCJ3aGVyZSIsInVzZXJfaWQiLCJkYXRhIiwiZXJyb3IiLCJhcmNoaXZlRXZlbnQiLCJldmVudF9pZCIsImFjdGlvbiIsImFyY2hpdmVkRXZlbnQiLCJ1c2VyX2V2ZW50X2ludGVyYWN0aW9ucyIsImNyZWF0ZSIsImludGVybmFsaWQiLCJpbnRlcmFjdGlvbl90eXBlIiwiZXZlbnRUb1N0cnVjdHVyZSIsImV2ZW50IiwidG9kYXkiLCJEYXRlIiwiZGQiLCJTdHJpbmciLCJnZXREYXRlIiwicGFkU3RhcnQiLCJtbSIsImdldE1vbnRoIiwieXl5eSIsImdldEZ1bGxZZWFyIiwiY3VycmVudERhdGUiLCJzeXN0ZW1NZXNzYWdlIiwicm9sZSIsImNvbnRlbnQiLCJ1c2VyTWVzc2FnZSIsInJlc3BvbnNlIiwiY2hhdCIsImNvbXBsZXRpb25zIiwibW9kZWwiLCJtZXNzYWdlcyIsInJlc3BvbnNlX2Zvcm1hdCIsInR5cGUiLCJ0aW1lc3RhbXBzIiwiSlNPTiIsInBhcnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJ2YWx1ZXMiLCJzZWFyY2hUZXJtIiwiZ2VuZXJhdGVFbWJlZGRpbmciLCJyYXciLCJpbnB1dCIsInJlcGxhY2UiLCJlbWJlZGRpbmdEYXRhIiwiZW1iZWRkaW5ncyIsImVtYmVkZGluZyIsInNlYXJjaEV2ZW50cyIsInF1ZXJ5IiwidXNlT25ib2FyZGluZ1RhYmxlIiwiYnVpbGRlciIsImZ1bmxvdmVyIiwiaW52ZXN0b3IiLCJwYWdlIiwicGFnZVNpemUiLCJzaW1pbGFyaXR5VGhyZXNob2xkIiwic2tpcCIsInZpZGVvcyIsIm9uYm9hcmRpbmciLCJmaW5kTWFueSIsInRha2UiLCJvcmRlckJ5IiwibG9jYXRpb24iLCJldmVudEZpbHRlciIsImdvQWhlYWQiLCJ1c2VyRW1iZWRkaW5nIiwidmVjdG9yUXVlcnkiLCJqb2luIiwibm9uQXJjaGl2ZWRFdmVudHNXaXRoU2ltaWxhcml0eSIsIiRxdWVyeVJhdyIsImFyY2hpdmVkRXZlbnRzIiwic2VsZWN0IiwiYXJjaGl2ZWRFdmVudElkcyIsIm1hcCIsImFlIiwiaW4iLCJldmVudHMiLCJsYXN0dXBkYXRlZCIsIm1hZ2ljU2VhcmNoRXZlbnRzIiwiaW5pdGlhbCIsImVuZCIsImdldEFnZW5kYSIsIm5vbkFyY2hpdmVkRXZlbnRzIiwibm90IiwiaW50ZXJhY3Rpb25UeXBlTWFwIiwiZm9yRWFjaCIsImV2ZW50SW50ZXJhY3Rpb24iLCJPYmplY3QiLCJrZXlzIiwiZXZlbnRzV2l0aEludGVyYWN0aW9uVHlwZSIsInVuZGVmaW5lZCIsImdldEV2ZW50cyIsInVzZXJJbnRlcmFjdGlvbnMiLCJpbnRlcmFjdGVkRXZlbnRJZHMiLCJpbnRlcmFjdGlvbiIsImxlbmd0aCIsInNxbCIsImdldERlcGxveW1lbnRzQnlQcm9qZWN0SWRzIiwicHJvamVjdElkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./utils/getsend/models.ts\n");

/***/ }),

/***/ "(rsc)/./utils/openai.ts":
/*!*************************!*\
  !*** ./utils/openai.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   openai: () => (/* binding */ openai)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY || \"\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9vcGVuYWkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkI7QUFFcEIsTUFBTUMsU0FBUyxJQUFJRCw4Q0FBTUEsQ0FBQztJQUMvQkUsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjLElBQUk7QUFDeEMsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL25hbWUvLi91dGlscy9vcGVuYWkudHM/YWQ0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSdcblxuZXhwb3J0IGNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIHx8ICcnLFxufSlcblxuXG4iXSwibmFtZXMiOlsiT3BlbkFJIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/openai.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@clerk","vendor-chunks/node-fetch-native","vendor-chunks/@peculiar","vendor-chunks/asn1js","vendor-chunks/webcrypto-core","vendor-chunks/tslib","vendor-chunks/path-to-regexp","vendor-chunks/pvtsutils","vendor-chunks/pvutils","vendor-chunks/cookie","vendor-chunks/@swc","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/formdata-node","vendor-chunks/node-fetch","vendor-chunks/web-streams-polyfill","vendor-chunks/openai","vendor-chunks/event-target-shim","vendor-chunks/agentkeepalive","vendor-chunks/form-data-encoder","vendor-chunks/abort-controller","vendor-chunks/ms","vendor-chunks/humanize-ms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdata%2Fevents%2Froute&page=%2Fapi%2Fdata%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdata%2Fevents%2Froute.ts&appDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fvicky%2FSpain%2FCandidly%2Fvotecandidly&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();